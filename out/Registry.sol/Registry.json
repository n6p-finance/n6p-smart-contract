{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"acceptGovernance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"banksy","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"endorseVault","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"releaseDelta","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"governance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isRegistered","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"latestRelease","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"latestVault","inputs":[{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"newExperimentalVault","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"_governance","type":"address","internalType":"address"},{"name":"guardian","type":"address","internalType":"address"},{"name":"rewards","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"symbol","type":"string","internalType":"string"},{"name":"releaseDelta","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"newRelease","inputs":[{"name":"vault","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"newVault","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"guardian","type":"address","internalType":"address"},{"name":"rewards","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"symbol","type":"string","internalType":"string"},{"name":"releaseDelta","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"numReleases","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"numTokens","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"numVaults","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"pendingGovernance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"releases","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setBanksy","inputs":[{"name":"tagger","type":"address","internalType":"address"},{"name":"allowed","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setGovernance","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"tagVault","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"tag","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"tags","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"tokens","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"vaults","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"event","name":"NewExperimentalVault","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"deployer","type":"address","indexed":true,"internalType":"address"},{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"api_version","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"NewGovernance","inputs":[{"name":"governance","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"NewRelease","inputs":[{"name":"release_id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"template","type":"address","indexed":false,"internalType":"address"},{"name":"api_version","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"NewVault","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"vault_id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"api_version","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"VaultTagged","inputs":[{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"tag","type":"string","indexed":false,"internalType":"string"}],"anonymous":false}],"bytecode":{"object":"0x60808060405234602757600780546001600160a01b0319163317905561152a908161002c8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c8063238efcbc14610e4057806333990d4b14610c875780634f64b2be14610c5557806356e0a94b14610c3957806358b8f84214610b575780635aa6e67514610b2f5780635bd4b0f2146109d85780635e05f6af1461097857806360bd68f8146107665780637bbfc69e1461071a5780637be0ca5e146106525780638e499bcf14610635578063ab033ea9146105e5578063b0b40fce14610506578063b366a35c146102d2578063b6a9f40f146102a0578063c3c5a54714610263578063e177dc70146101a1578063ee711ed514610164578063f39c38a01461013c5763f9c7bba514610100575f80fd5b34610138576020366003190112610138576001600160a01b03610121610ea2565b165f526002602052602060405f2054604051908152f35b5f80fd5b34610138575f366003190112610138576008546040516001600160a01b039091168152602090f35b34610138576020366003190112610138576001600160a01b03610185610ea2565b165f52600a602052602060ff60405f2054166040519015158152f35b34610138576020366003190112610138576001600160a01b036101c2610ea2565b16805f52600260205260405f20541561022957805f52600360205260405f20905f52600260205260405f20545f198101908111610215575f52602052602060018060a01b0360405f205416604051908152f35b634e487b7160e01b5f52601160045260245ffd5b60405162461bcd60e51b81526020600482015260126024820152713737903b30bab63a103337b9103a37b5b2b760711b6044820152606490fd5b34610138576020366003190112610138576001600160a01b03610284610ea2565b165f526006602052602060ff60405f2054166040519015158152f35b34610138576020366003190112610138576004355f526001602052602060018060a01b0360405f205416604051908152f35b34610138576040366003190112610138576102eb610ea2565b61030060018060a01b03600754163314610fb2565b604051635aa6e67560e01b81526001600160a01b0382169190602081600481865afa908115610432575f916104e7575b50336001600160a01b03909116036104b3575f545f1981019081116102155761035c9060243590610fed565b5f90815260016020526040808220549051630258294160e41b81529190829060049082906001600160a01b03165afa908115610432575f91610499575b50604051630258294160e41b81525f81600481875afa908115610432575f91610477575b506020815191012090602081519101200361043d57602060049260405193848092637e062a3560e11b82525afa801561043257610401925f91610403575b506112bd565b005b610425915060203d60201161042b575b61041d8183610f1c565b81019061110d565b836103fb565b503d610413565b6040513d5f823e3d90fd5b60405162461bcd60e51b81526020600482015260126024820152716e6f74207461726765742072656c6561736560701b6044820152606490fd5b61049391503d805f833e61048b8183610f1c565b810190611015565b846103bd565b6104ad91503d805f833e61048b8183610f1c565b83610399565b60405162461bcd60e51b815260206004820152600c60248201526b1b9bdd0819dbdd995c9b995960a21b6044820152606490fd5b610500915060203d60201161042b5761041d8183610f1c565b83610330565b346101385760c03660031901126101385761051f610ea2565b610527610eb8565b90610530610ece565b6064356001600160401b0381116101385761054f903690600401610f85565b9093906084356001600160401b03811161013857610571903690600401610f85565b61058960018060a09794971b03600754163314610fb2565b5f545f19810194908511610215576105c46105d3966105bc60209a6105b46105cc9960a43590610fed565b9736916110d7565b9336916110d7565b92338861112c565b80926112bd565b6040516001600160a01b039091168152f35b34610138576020366003190112610138576105fe610ea2565b61061360018060a01b03600754163314610fb2565b600880546001600160a01b0319166001600160a01b0392909216919091179055005b34610138575f366003190112610138576020600554604051908152f35b34610138575f366003190112610138575f5480156106e8575f198101908111610215575f90815260016020526040808220549051630258294160e41b81529190829060049082906001600160a01b03165afa8015610432576106ca915f916106ce575b50604051918291602083526020830190610f60565b0390f35b6106e291503d805f833e61048b8183610f1c565b826106b5565b60405162461bcd60e51b815260206004820152600a6024820152696e6f2072656c6561736560b01b6044820152606490fd5b34610138576040366003190112610138576001600160a01b0361073b610ea2565b165f52600360205260405f206024355f52602052602060018060a01b0360405f205416604051908152f35b346101385760403660031901126101385761077f610ea2565b6024356001600160401b0381116101385761079e903690600401610f85565b6007549092906001600160a01b03163303610932575b6001600160a01b03165f818152600960205260409020926001600160401b03811161091e576107e38454610ee4565b601f81116108d9575b505f93601f8211600114610864579060609291815f5160206114d55f395f51905f52965f91610859575b508260011b905f198460031b1c19161790555b80604051948593845260406020850152816040850152848401375f828201840152601f01601f19168101030190a1005b905085013587610816565b601f19821694815f5260205f20955f5b8181106108c1575095839291606095945f5160206114d55f395f51905f5298106108a8575b5050600182811b019055610829565b8601355f19600385901b60f8161c191690558680610899565b86830135885560019097019660209283019201610874565b845f5260205f20601f830160051c81019160208410610914575b601f0160051c01905b81811061090957506107ec565b5f81556001016108fc565b90915081906108f3565b634e487b7160e01b5f52604160045260245ffd5b335f52600a60205260ff60405f2054166107b45760405162461bcd60e51b815260206004820152600a6024820152696e6f742062616e6b737960b01b6044820152606490fd5b3461013857604036600319011261013857610991610ea2565b60243590811515809203610138576109b460018060a01b03600754163314610fb2565b60018060a01b03165f52600a60205260405f209060ff801983541691161790555f80f35b346101385760e0366003190112610138576109f1610ea2565b6109f9610eb8565b610a01610ece565b90606435906001600160a01b0382168203610138576084356001600160401b03811161013857610a35903690600401610f85565b909390929060a4356001600160401b03811161013857610a59903690600401610f85565b5f545f1981019791949290881161021557610a89610a9192610a81610a989a60c43590610fed565b9836916110d7565b9436916110d7565b938761112c565b604051630258294160e41b8152916001600160a01b038216915f84600481865afa801561043257610b0a7f57a9cdc2a05e05f66e76769bdbe88e21ec45d9ee0f97d4cb60395d4c75dcbcda916020965f91610b15575b5060405133956001600160a01b031694909283929091836110b5565b0390a3604051908152f35b610b2991503d805f833e61048b8183610f1c565b87610aee565b34610138575f366003190112610138576007546040516001600160a01b039091168152602090f35b34610138576020366003190112610138576001600160a01b03610b78610ea2565b165f52600960205260405f20604051905f90805490610b9682610ee4565b8085529160018116908115610c125750600114610bd2575b6106ca84610bbe81860382610f1c565b604051918291602083526020830190610f60565b5f90815260208120939250905b808210610bf857509091508101602001610bbe82610bae565b919260018160209254838588010152019101909291610bdf565b60ff191660208087019190915292151560051b85019092019250610bbe9150839050610bae565b34610138575f3660031901126101385760205f54604051908152f35b34610138576020366003190112610138576004355f526004602052602060018060a01b0360405f205416604051908152f35b3461013857602036600319011261013857610ca0610ea2565b610cb560018060a01b03600754163314610fb2565b5f549081610d74575b5f82815260016020819052604090912080546001600160a01b0319166001600160a01b0384161790558201808311610215575f908155604051630258294160e41b81529190826004816001600160a01b0385165afa908115610432577fa6fbd216b6734f34092f1be6b7247e1551a6d4f2d5000c53721cfdc119a5b7cf925f92610d58575b50610d53604051928392836110b5565b0390a2005b610d6d9192503d805f833e61048b8183610f1c565b9084610d43565b5f198201828111610215575f90815260016020526040808220549051630258294160e41b81529190829060049082906001600160a01b03165afa908115610432575f91610e26575b50604051630258294160e41b8152905f826004816001600160a01b0387165afa90811561043257610e05925f92610e0a575b506020815191012090602081519101201415611076565b610cbe565b610e1f9192503d805f833e61048b8183610f1c565b9085610dee565b610e3a91503d805f833e61048b8183610f1c565b83610dbc565b34610138575f36600319011261013857610e6560018060a01b03600854163314610fb2565b3360018060a01b031960075416176007557f4f386975ea1c2f7cf1845b08bee00626fbb624ecad16254d63d9bb9ba86526de6020604051338152a1005b600435906001600160a01b038216820361013857565b602435906001600160a01b038216820361013857565b604435906001600160a01b038216820361013857565b90600182811c92168015610f12575b6020831014610efe57565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610ef3565b601f909101601f19168101906001600160401b0382119082101761091e57604052565b5f5b838110610f505750505f910152565b8181015183820152602001610f41565b90602091610f7981518092818552858086019101610f3f565b601f01601f1916010190565b9181601f84011215610138578235916001600160401b038311610138576020838186019501011161013857565b15610fb957565b60405162461bcd60e51b815260206004820152600c60248201526b1d5b985d5d1a1bdc9a5e995960a21b6044820152606490fd5b9190820391821161021557565b6001600160401b03811161091e57601f01601f191660200190565b602081830312610138578051906001600160401b038211610138570181601f8201121561013857805161104781610ffa565b926110556040519485610f1c565b81845260208284010111610138576110739160208085019101610f3f565b90565b1561107d57565b60405162461bcd60e51b815260206004820152601060248201526f39b0b6b29030b834903b32b939b4b7b760811b6044820152606490fd5b6001600160a01b03909116815260406020820181905261107392910190610f60565b9291926110e382610ffa565b916110f16040519384610f1c565b829481845281830111610138578281602093845f960137010152565b9081602091031261013857516001600160a01b03811681036101385790565b91929394955f52600160205260405f205460018060a01b038116156112865780763d602d80600a3d3981f3363d3d373d3d3d363d7300000062ffffff6e5af43d82803e903d91602b57fd5bf39360881c16175f5260018060781b03199060781b1617602052603760095ff0956001600160a01b03871692831561124857833b156101385760405163538baeab60e01b81526001600160a01b0391821660048201529281166024840152909316604482015260e06064820152935f938593849286928492909161121691906112049060e4860190610f60565b84810360031901608486015290610f60565b6001600160a01b0390911660a48301523060c483015203925af180156104325761123e575090565b5f61107391610f1c565b60405162461bcd60e51b8152602060048201526016602482015275115490cc4c4d8dce8818dc99585d194819985a5b195960521b6044820152606490fd5b60405162461bcd60e51b815260206004820152600f60248201526e756e6b6e6f776e2072656c6561736560881b6044820152606490fd5b6001600160a01b03165f818152600260205260409020549182611404575b5f828152600360209081526040808320868452909152902080546001600160a01b0319166001600160a01b0383161790556001830180841161021557825f52600260205260405f2055815f52600660205260ff60405f205416156113ba575b604051630258294160e41b8152905f826004816001600160a01b0385165afa908115610432577fce089905ba4a4d622553bcb5646fd23e895c256f0376eee04e99e61cec1dc7e8925f9261139e575b50611399604051928392836110b5565b0390a3565b6113b39192503d805f833e61048b8183610f1c565b905f611389565b815f52600660205260405f20600160ff198254161790556005545f52600460205260405f208260018060a01b0319825416179055600554600181018091116102155760055561133a565b815f52600360205260405f205f198401848111610215575f5260205260045f60018060a01b0360408220541660405192838092630258294160e41b82525afa908115610432575f916114ba575b50604051630258294160e41b8152905f826004816001600160a01b0387165afa90811561043257611499925f9261149e57506020815191012090602081519101201415611076565b6112db565b6114b39192503d805f833e61048b8183610f1c565b905f610dee565b6114ce91503d805f833e61048b8183610f1c565b5f61145156fe07bd58794c2ca0ae152f7719eb5f02c654476de972cadec0e8191ae8be42096da26469706673582212209dc18f9f24f9a345fe45adadab55fa4983c054d94ef6a024f6e6da7e8682179a64736f6c634300081e0033","sourceMap":"657:6310:10:-:0;;;;;;;1803:23;657:6310;;-1:-1:-1;;;;;;657:6310:10;1816:10;657:6310;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f3560e01c8063238efcbc14610e4057806333990d4b14610c875780634f64b2be14610c5557806356e0a94b14610c3957806358b8f84214610b575780635aa6e67514610b2f5780635bd4b0f2146109d85780635e05f6af1461097857806360bd68f8146107665780637bbfc69e1461071a5780637be0ca5e146106525780638e499bcf14610635578063ab033ea9146105e5578063b0b40fce14610506578063b366a35c146102d2578063b6a9f40f146102a0578063c3c5a54714610263578063e177dc70146101a1578063ee711ed514610164578063f39c38a01461013c5763f9c7bba514610100575f80fd5b34610138576020366003190112610138576001600160a01b03610121610ea2565b165f526002602052602060405f2054604051908152f35b5f80fd5b34610138575f366003190112610138576008546040516001600160a01b039091168152602090f35b34610138576020366003190112610138576001600160a01b03610185610ea2565b165f52600a602052602060ff60405f2054166040519015158152f35b34610138576020366003190112610138576001600160a01b036101c2610ea2565b16805f52600260205260405f20541561022957805f52600360205260405f20905f52600260205260405f20545f198101908111610215575f52602052602060018060a01b0360405f205416604051908152f35b634e487b7160e01b5f52601160045260245ffd5b60405162461bcd60e51b81526020600482015260126024820152713737903b30bab63a103337b9103a37b5b2b760711b6044820152606490fd5b34610138576020366003190112610138576001600160a01b03610284610ea2565b165f526006602052602060ff60405f2054166040519015158152f35b34610138576020366003190112610138576004355f526001602052602060018060a01b0360405f205416604051908152f35b34610138576040366003190112610138576102eb610ea2565b61030060018060a01b03600754163314610fb2565b604051635aa6e67560e01b81526001600160a01b0382169190602081600481865afa908115610432575f916104e7575b50336001600160a01b03909116036104b3575f545f1981019081116102155761035c9060243590610fed565b5f90815260016020526040808220549051630258294160e41b81529190829060049082906001600160a01b03165afa908115610432575f91610499575b50604051630258294160e41b81525f81600481875afa908115610432575f91610477575b506020815191012090602081519101200361043d57602060049260405193848092637e062a3560e11b82525afa801561043257610401925f91610403575b506112bd565b005b610425915060203d60201161042b575b61041d8183610f1c565b81019061110d565b836103fb565b503d610413565b6040513d5f823e3d90fd5b60405162461bcd60e51b81526020600482015260126024820152716e6f74207461726765742072656c6561736560701b6044820152606490fd5b61049391503d805f833e61048b8183610f1c565b810190611015565b846103bd565b6104ad91503d805f833e61048b8183610f1c565b83610399565b60405162461bcd60e51b815260206004820152600c60248201526b1b9bdd0819dbdd995c9b995960a21b6044820152606490fd5b610500915060203d60201161042b5761041d8183610f1c565b83610330565b346101385760c03660031901126101385761051f610ea2565b610527610eb8565b90610530610ece565b6064356001600160401b0381116101385761054f903690600401610f85565b9093906084356001600160401b03811161013857610571903690600401610f85565b61058960018060a09794971b03600754163314610fb2565b5f545f19810194908511610215576105c46105d3966105bc60209a6105b46105cc9960a43590610fed565b9736916110d7565b9336916110d7565b92338861112c565b80926112bd565b6040516001600160a01b039091168152f35b34610138576020366003190112610138576105fe610ea2565b61061360018060a01b03600754163314610fb2565b600880546001600160a01b0319166001600160a01b0392909216919091179055005b34610138575f366003190112610138576020600554604051908152f35b34610138575f366003190112610138575f5480156106e8575f198101908111610215575f90815260016020526040808220549051630258294160e41b81529190829060049082906001600160a01b03165afa8015610432576106ca915f916106ce575b50604051918291602083526020830190610f60565b0390f35b6106e291503d805f833e61048b8183610f1c565b826106b5565b60405162461bcd60e51b815260206004820152600a6024820152696e6f2072656c6561736560b01b6044820152606490fd5b34610138576040366003190112610138576001600160a01b0361073b610ea2565b165f52600360205260405f206024355f52602052602060018060a01b0360405f205416604051908152f35b346101385760403660031901126101385761077f610ea2565b6024356001600160401b0381116101385761079e903690600401610f85565b6007549092906001600160a01b03163303610932575b6001600160a01b03165f818152600960205260409020926001600160401b03811161091e576107e38454610ee4565b601f81116108d9575b505f93601f8211600114610864579060609291815f5160206114d55f395f51905f52965f91610859575b508260011b905f198460031b1c19161790555b80604051948593845260406020850152816040850152848401375f828201840152601f01601f19168101030190a1005b905085013587610816565b601f19821694815f5260205f20955f5b8181106108c1575095839291606095945f5160206114d55f395f51905f5298106108a8575b5050600182811b019055610829565b8601355f19600385901b60f8161c191690558680610899565b86830135885560019097019660209283019201610874565b845f5260205f20601f830160051c81019160208410610914575b601f0160051c01905b81811061090957506107ec565b5f81556001016108fc565b90915081906108f3565b634e487b7160e01b5f52604160045260245ffd5b335f52600a60205260ff60405f2054166107b45760405162461bcd60e51b815260206004820152600a6024820152696e6f742062616e6b737960b01b6044820152606490fd5b3461013857604036600319011261013857610991610ea2565b60243590811515809203610138576109b460018060a01b03600754163314610fb2565b60018060a01b03165f52600a60205260405f209060ff801983541691161790555f80f35b346101385760e0366003190112610138576109f1610ea2565b6109f9610eb8565b610a01610ece565b90606435906001600160a01b0382168203610138576084356001600160401b03811161013857610a35903690600401610f85565b909390929060a4356001600160401b03811161013857610a59903690600401610f85565b5f545f1981019791949290881161021557610a89610a9192610a81610a989a60c43590610fed565b9836916110d7565b9436916110d7565b938761112c565b604051630258294160e41b8152916001600160a01b038216915f84600481865afa801561043257610b0a7f57a9cdc2a05e05f66e76769bdbe88e21ec45d9ee0f97d4cb60395d4c75dcbcda916020965f91610b15575b5060405133956001600160a01b031694909283929091836110b5565b0390a3604051908152f35b610b2991503d805f833e61048b8183610f1c565b87610aee565b34610138575f366003190112610138576007546040516001600160a01b039091168152602090f35b34610138576020366003190112610138576001600160a01b03610b78610ea2565b165f52600960205260405f20604051905f90805490610b9682610ee4565b8085529160018116908115610c125750600114610bd2575b6106ca84610bbe81860382610f1c565b604051918291602083526020830190610f60565b5f90815260208120939250905b808210610bf857509091508101602001610bbe82610bae565b919260018160209254838588010152019101909291610bdf565b60ff191660208087019190915292151560051b85019092019250610bbe9150839050610bae565b34610138575f3660031901126101385760205f54604051908152f35b34610138576020366003190112610138576004355f526004602052602060018060a01b0360405f205416604051908152f35b3461013857602036600319011261013857610ca0610ea2565b610cb560018060a01b03600754163314610fb2565b5f549081610d74575b5f82815260016020819052604090912080546001600160a01b0319166001600160a01b0384161790558201808311610215575f908155604051630258294160e41b81529190826004816001600160a01b0385165afa908115610432577fa6fbd216b6734f34092f1be6b7247e1551a6d4f2d5000c53721cfdc119a5b7cf925f92610d58575b50610d53604051928392836110b5565b0390a2005b610d6d9192503d805f833e61048b8183610f1c565b9084610d43565b5f198201828111610215575f90815260016020526040808220549051630258294160e41b81529190829060049082906001600160a01b03165afa908115610432575f91610e26575b50604051630258294160e41b8152905f826004816001600160a01b0387165afa90811561043257610e05925f92610e0a575b506020815191012090602081519101201415611076565b610cbe565b610e1f9192503d805f833e61048b8183610f1c565b9085610dee565b610e3a91503d805f833e61048b8183610f1c565b83610dbc565b34610138575f36600319011261013857610e6560018060a01b03600854163314610fb2565b3360018060a01b031960075416176007557f4f386975ea1c2f7cf1845b08bee00626fbb624ecad16254d63d9bb9ba86526de6020604051338152a1005b600435906001600160a01b038216820361013857565b602435906001600160a01b038216820361013857565b604435906001600160a01b038216820361013857565b90600182811c92168015610f12575b6020831014610efe57565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610ef3565b601f909101601f19168101906001600160401b0382119082101761091e57604052565b5f5b838110610f505750505f910152565b8181015183820152602001610f41565b90602091610f7981518092818552858086019101610f3f565b601f01601f1916010190565b9181601f84011215610138578235916001600160401b038311610138576020838186019501011161013857565b15610fb957565b60405162461bcd60e51b815260206004820152600c60248201526b1d5b985d5d1a1bdc9a5e995960a21b6044820152606490fd5b9190820391821161021557565b6001600160401b03811161091e57601f01601f191660200190565b602081830312610138578051906001600160401b038211610138570181601f8201121561013857805161104781610ffa565b926110556040519485610f1c565b81845260208284010111610138576110739160208085019101610f3f565b90565b1561107d57565b60405162461bcd60e51b815260206004820152601060248201526f39b0b6b29030b834903b32b939b4b7b760811b6044820152606490fd5b6001600160a01b03909116815260406020820181905261107392910190610f60565b9291926110e382610ffa565b916110f16040519384610f1c565b829481845281830111610138578281602093845f960137010152565b9081602091031261013857516001600160a01b03811681036101385790565b91929394955f52600160205260405f205460018060a01b038116156112865780763d602d80600a3d3981f3363d3d373d3d3d363d7300000062ffffff6e5af43d82803e903d91602b57fd5bf39360881c16175f5260018060781b03199060781b1617602052603760095ff0956001600160a01b03871692831561124857833b156101385760405163538baeab60e01b81526001600160a01b0391821660048201529281166024840152909316604482015260e06064820152935f938593849286928492909161121691906112049060e4860190610f60565b84810360031901608486015290610f60565b6001600160a01b0390911660a48301523060c483015203925af180156104325761123e575090565b5f61107391610f1c565b60405162461bcd60e51b8152602060048201526016602482015275115490cc4c4d8dce8818dc99585d194819985a5b195960521b6044820152606490fd5b60405162461bcd60e51b815260206004820152600f60248201526e756e6b6e6f776e2072656c6561736560881b6044820152606490fd5b6001600160a01b03165f818152600260205260409020549182611404575b5f828152600360209081526040808320868452909152902080546001600160a01b0319166001600160a01b0383161790556001830180841161021557825f52600260205260405f2055815f52600660205260ff60405f205416156113ba575b604051630258294160e41b8152905f826004816001600160a01b0385165afa908115610432577fce089905ba4a4d622553bcb5646fd23e895c256f0376eee04e99e61cec1dc7e8925f9261139e575b50611399604051928392836110b5565b0390a3565b6113b39192503d805f833e61048b8183610f1c565b905f611389565b815f52600660205260405f20600160ff198254161790556005545f52600460205260405f208260018060a01b0319825416179055600554600181018091116102155760055561133a565b815f52600360205260405f205f198401848111610215575f5260205260045f60018060a01b0360408220541660405192838092630258294160e41b82525afa908115610432575f916114ba575b50604051630258294160e41b8152905f826004816001600160a01b0387165afa90811561043257611499925f9261149e57506020815191012090602081519101201415611076565b6112db565b6114b39192503d805f833e61048b8183610f1c565b905f610dee565b6114ce91503d805f833e61048b8183610f1c565b5f61145156fe07bd58794c2ca0ae152f7719eb5f02c654476de972cadec0e8191ae8be42096da26469706673582212209dc18f9f24f9a345fe45adadab55fa4983c054d94ef6a024f6e6da7e8682179a64736f6c634300081e0033","sourceMap":"657:6310:10:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;:::i;:::-;;;;808:44;657:6310;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;1195:32;657:6310;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;:::i;:::-;;;;1309:38;657:6310;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;:::i;:::-;;;;;2494:9;657:6310;;;;;;2494:20;657:6310;;;;;2554:6;657:6310;;;;;;;;2494:9;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;:::i;:::-;;;;1065:44;657:6310;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;6053:49;657:6310;;;;;6075:10;657:6310;;6061:10;:24;6053:49;:::i;:::-;657:6310;;-1:-1:-1;;;6120:38:10;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;6120:38;;;;;;;657:6310;6120:38;;;657:6310;-1:-1:-1;6061:10:10;-1:-1:-1;;;;;657:6310:10;;;6120:52;657:6310;;;;-1:-1:-1;;657:6310:10;;;;;;;6223:30;657:6310;;;6223:30;;:::i;:::-;657:6310;;;;;;;;;;;;;;-1:-1:-1;;;6304:56:10;;657:6310;;;;;;;;-1:-1:-1;;;;;657:6310:10;6304:56;;;;;;;657:6310;6304:56;;;657:6310;-1:-1:-1;657:6310:10;;-1:-1:-1;;;6394:38:10;;657:6310;;;;6394:38;;;;;;;;657:6310;6394:38;;;657:6310;;;;;;;6378:56;657:6310;;;;;;6438:21;6378:81;657:6310;;;;;;;;;;;;;;6507:33;;;;;;;;6542:5;6507:33;657:6310;6507:33;;;657:6310;6542:5;;:::i;:::-;657:6310;6507:33;;;;657:6310;6507:33;657:6310;6507:33;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;657:6310;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;6394:38;;;;;;657:6310;6394:38;;;;;;:::i;:::-;;;;;:::i;:::-;;;;6304:56;;;;;;657:6310;6304:56;;;;;;:::i;:::-;;;;657:6310;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;6120:38;;;;657:6310;6120:38;657:6310;6120:38;;;;;;;:::i;:::-;;;;657:6310;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;;;:::i;:::-;;;;:::i;:::-;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;:::i;:::-;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;:::i;:::-;5074:49;657:6310;;;;;;;;5096:10;657:6310;;5082:10;:24;5074:49;:::i;:::-;657:6310;;-1:-1:-1;;657:6310:10;;;;;;;;;5347:5;657:6310;;;;5157:30;5234:81;657:6310;;;5157:30;;:::i;:::-;657:6310;;;;:::i;:::-;;;;;:::i;:::-;5082:10;;5234:81;;:::i;:::-;5347:5;;;:::i;:::-;657:6310;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;1913:49;657:6310;;;;;1935:10;657:6310;;1921:10;:24;1913:49;:::i;:::-;1972:24;657:6310;;-1:-1:-1;;;;;;657:6310:10;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;1035:24;657:6310;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;2291:15;;657:6310;;-1:-1:-1;;657:6310:10;;;;;;;;;;;2357:8;657:6310;;;;;;;;;-1:-1:-1;;;2338:58:10;;657:6310;;;;;;;;-1:-1:-1;;;;;657:6310:10;2338:58;;;;;;657:6310;2338:58;657:6310;2338:58;;;657:6310;;;;;;;;;;;;;;;:::i;:::-;;;;2338:58;;;;;;657:6310;2338:58;;;;;;:::i;:::-;;;;657:6310;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;:::i;:::-;;;;858:61;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;:::i;:::-;6816:10;657:6310;;;;-1:-1:-1;;;;;657:6310:10;6802:10;:24;6798:96;;657:6310;-1:-1:-1;;;;;657:6310:10;;;;;6903:4;657:6310;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;657:6310:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;6935:23;;;;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;;;;;;657:6310:10;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:10;;;;;;;;;;;;;;;;6798:96;6802:10;657:6310;;6850:6;657:6310;;;;;;;;6798:96;657:6310;;;-1:-1:-1;;;657:6310:10;;;;;;;6850:6;657:6310;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;;;;;;;;;;;;6629:49;657:6310;;;;;6651:10;657:6310;;6637:10;:24;6629:49;:::i;:::-;657:6310;;;;;;;;6688:6;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;;;:::i;:::-;;;:::i;:::-;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;5680:30;5757:82;657:6310;;;5680:30;;:::i;:::-;657:6310;;;;:::i;:::-;;;;;:::i;:::-;5757:82;;;:::i;:::-;657:6310;;-1:-1:-1;;;5901:38:10;;657:6310;-1:-1:-1;;;;;657:6310:10;;;;;;;;5901:38;;;;;;5854:86;;5901:38;657:6310;5901:38;657:6310;5901:38;;;657:6310;-1:-1:-1;657:6310:10;;5882:10;;-1:-1:-1;;;;;657:6310:10;;;;;;5882:10;;657:6310;5854:86;:::i;:::-;;;;657:6310;;;;;;5901:38;;;;;;657:6310;5901:38;;;;;;:::i;:::-;;;;657:6310;;;;;;-1:-1:-1;;657:6310:10;;;;1164:25;657:6310;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;:::i;:::-;;;;1249:38;657:6310;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;657:6310:10;;;;;;;-1:-1:-1;657:6310:10;;-1:-1:-1;657:6310:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:10;;-1:-1:-1;657:6310:10;;-1:-1:-1;657:6310:10;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;;;:::i;:::-;2696:49;657:6310;;;;;2718:10;657:6310;;2704:10;:24;2696:49;:::i;:::-;657:6310;;2801:14;;2797:287;;657:6310;;;;;3093:8;657:6310;;;;;;;;;;-1:-1:-1;;;;;;657:6310:10;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;;;;;-1:-1:-1;;;3204:38:10;;657:6310;;;;;-1:-1:-1;;;;;657:6310:10;;3204:38;;;;;;;3174:69;3204:38;657:6310;3204:38;;;657:6310;;3174:69;657:6310;;3174:69;;;;;:::i;:::-;;;;657:6310;3204:38;;;;;;;657:6310;3204:38;;;;;;:::i;:::-;;;;;2797:287;-1:-1:-1;;657:6310:10;;;;;;;;;;;2871:8;657:6310;;;;;;;;;-1:-1:-1;;;2852:57:10;;657:6310;;;;;;;;-1:-1:-1;;;;;657:6310:10;2852:57;;;;;;;657:6310;2852:57;;;2797:287;-1:-1:-1;657:6310:10;;-1:-1:-1;;;2944:38:10;;657:6310;;;;;-1:-1:-1;;;;;657:6310:10;;2944:38;;;;;;;2996:77;2944:38;657:6310;2944:38;;;2797:287;657:6310;;;;;;3004:22;657:6310;;;;;;3030:22;3004:48;;2996:77;:::i;:::-;2797:287;;2944:38;;;;;;;657:6310;2944:38;;;;;;:::i;:::-;;;;;2852:57;;;;;;657:6310;2852:57;;;;;;:::i;:::-;;;;657:6310;;;;;;-1:-1:-1;;657:6310:10;;;;2055:56;657:6310;;;;;2077:17;657:6310;;2063:10;:31;2055:56;:::i;:::-;2063:10;657:6310;;;;;;2121:23;657:6310;;;2121:23;657:6310;2159:25;657:6310;;;2063:10;657:6310;;2159:25;657:6310;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;657:6310:10;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;657:6310:10;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;:::o;:::-;;;;;;;;-1:-1:-1;;657:6310:10;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;657:6310:10;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;;:::o;:::-;;;;:::o;:::-;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;;;;;657:6310:10;;;;;;-1:-1:-1;;657:6310:10;;;;:::o;:::-;;;;;;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;:::o;:::-;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:10;;;;;;:::o;:::-;;;;;;;;;;-1:-1:-1;;;;;657:6310:10;;;;;;;:::o;3460:641::-;;;;;;-1:-1:-1;657:6310:10;3737:8;657:6310;;;-1:-1:-1;657:6310:10;;;;;;;;;3778:21;657:6310;;1101:558:52;;;;;;;;;-1:-1:-1;1101:558:52;657:6310:10;1101:558:52;;;;;;;;;;657:6310:10;1101:558:52;;;-1:-1:-1;1101:558:52;657:6310:10;-1:-1:-1;;;;;657:6310:10;;;1676:22:52;;657:6310:10;;3970:102;;;;;657:6310;;-1:-1:-1;;;3970:102:10;;-1:-1:-1;;;;;657:6310:10;;;3970:102;;;657:6310;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:10;;;;-1:-1:-1;;657:6310:10;;;;;;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;657:6310:10;;;;;;;:::i;:::-;-1:-1:-1;;;;;657:6310:10;;;;;;;4066:4;657:6310;;;;3970:102;;;;;;;;;;4082:12;3460:641;:::o;3970:102::-;-1:-1:-1;3970:102:10;;;:::i;657:6310::-;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;;;;;;-1:-1:-1;;;657:6310:10;;;;;;;4107:734;-1:-1:-1;;;;;657:6310:10;-1:-1:-1;657:6310:10;;;4199:9;657:6310;;;;;;;;4225:288;;4107:734;-1:-1:-1;657:6310:10;;;4522:6;657:6310;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;657:6310:10;-1:-1:-1;;;;;657:6310:10;;;;;;;;;;;;;;-1:-1:-1;657:6310:10;4199:9;657:6310;;;-1:-1:-1;657:6310:10;;;-1:-1:-1;657:6310:10;4609:12;657:6310;;;;-1:-1:-1;657:6310:10;;;4608:20;4604:144;;4107:734;657:6310;;-1:-1:-1;;;4795:38:10;;657:6310;-1:-1:-1;657:6310:10;4795:38;657:6310;-1:-1:-1;;;;;657:6310:10;;4795:38;;;;;;;4762:72;4795:38;-1:-1:-1;4795:38:10;;;4107:734;657:6310;4762:72;657:6310;;4762:72;;;;;:::i;:::-;;;;4107:734::o;4795:38::-;;;;;;;-1:-1:-1;4795:38:10;;;;;;:::i;:::-;;;;;4604:144;657:6310;-1:-1:-1;657:6310:10;4609:12;657:6310;;;-1:-1:-1;657:6310:10;4593:1;657:6310;;;;;;;;4691:9;657:6310;-1:-1:-1;657:6310:10;4684:6;657:6310;;;-1:-1:-1;657:6310:10;;;;;;;;;;;;;;4691:9;657:6310;4593:1;657:6310;;;;;;;4691:9;657:6310;4604:144;;4225:288;657:6310;-1:-1:-1;657:6310:10;4297:6;657:6310;;;-1:-1:-1;657:6310:10;;;;;;;;;;-1:-1:-1;657:6310:10;;;4278:60;-1:-1:-1;657:6310:10;;;;;;;;;;;;;;;;;;;4278:60;;;;;;;;;-1:-1:-1;4278:60:10;;;4225:288;-1:-1:-1;657:6310:10;;-1:-1:-1;;;4373:38:10;;657:6310;-1:-1:-1;657:6310:10;4278:60;657:6310;-1:-1:-1;;;;;657:6310:10;;4373:38;;;;;;;4425:77;4373:38;-1:-1:-1;4373:38:10;;;657:6310;;;;;;4433:22;657:6310;;;;;;4459:22;4433:48;;4425:77;:::i;:::-;4225:288;;4373:38;;;;;;;-1:-1:-1;4373:38:10;;;;;;:::i;:::-;;;;;4278:60;;;;;;-1:-1:-1;4278:60:10;;;;;;:::i;:::-;;;","linkReferences":{}},"methodIdentifiers":{"acceptGovernance()":"238efcbc","banksy(address)":"ee711ed5","endorseVault(address,uint256)":"b366a35c","governance()":"5aa6e675","isRegistered(address)":"c3c5a547","latestRelease()":"7be0ca5e","latestVault(address)":"e177dc70","newExperimentalVault(address,address,address,address,string,string,uint256)":"5bd4b0f2","newRelease(address)":"33990d4b","newVault(address,address,address,string,string,uint256)":"b0b40fce","numReleases()":"56e0a94b","numTokens()":"8e499bcf","numVaults(address)":"f9c7bba5","pendingGovernance()":"f39c38a0","releases(uint256)":"b6a9f40f","setBanksy(address,bool)":"5e05f6af","setGovernance(address)":"ab033ea9","tagVault(address,string)":"60bd68f8","tags(address)":"58b8f842","tokens(uint256)":"4f64b2be","vaults(address,uint256)":"7bbfc69e"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"deployer\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"api_version\",\"type\":\"string\"}],\"name\":\"NewExperimentalVault\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"governance\",\"type\":\"address\"}],\"name\":\"NewGovernance\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"release_id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"template\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"api_version\",\"type\":\"string\"}],\"name\":\"NewRelease\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"vault_id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"api_version\",\"type\":\"string\"}],\"name\":\"NewVault\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"tag\",\"type\":\"string\"}],\"name\":\"VaultTagged\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"acceptGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"banksy\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"releaseDelta\",\"type\":\"uint256\"}],\"name\":\"endorseVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRelease\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"latestVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_governance\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"guardian\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"rewards\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"releaseDelta\",\"type\":\"uint256\"}],\"name\":\"newExperimentalVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"}],\"name\":\"newRelease\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"guardian\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"rewards\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"releaseDelta\",\"type\":\"uint256\"}],\"name\":\"newVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"numReleases\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"numTokens\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"numVaults\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingGovernance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"releases\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tagger\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"name\":\"setBanksy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"tag\",\"type\":\"string\"}],\"name\":\"tagVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"tags\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokens\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"vaults\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/core/Registry.sol\":\"Registry\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/src/core/Registry.sol\":{\"content\":\"// SPDX-License-Identifier: MIT OR AGPL-3.0\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/proxy/Clones.sol\\\";\\n\\ninterface IVaultRegistryView {\\n    function token() external view returns (address);\\n    function apiVersion() external view returns (string memory);\\n    function governance() external view returns (address);\\n}\\n\\ninterface IVaultInitialize {\\n    // Initialization (replaces Vyper initialize external)\\n    function initialize(\\n        address token,\\n        address governance,\\n        address rewards,\\n        string calldata name,\\n        string calldata symbol,\\n        address guardian,\\n        address management\\n    ) external;\\n}\\n\\ncontract Registry {\\n    // releases\\n    uint256 public numReleases;\\n    mapping(uint256 => address) public releases;\\n\\n    // token => vaults count\\n    mapping(address => uint256) public numVaults;\\n    mapping(address => mapping(uint256 => address)) public vaults; // token => id => vault\\n\\n    // tokens index\\n    mapping(uint256 => address) public tokens; // index => token\\n    uint256 public numTokens;\\n    mapping(address => bool) public isRegistered; // token => included\\n\\n    // governance (2-step)\\n    address public governance;\\n    address public pendingGovernance;\\n\\n    // tagging\\n    mapping(address => string) public tags; // vault => tag\\n    mapping(address => bool) public banksy; // tagger => allowed\\n\\n    event NewRelease(uint256 indexed release_id, address template, string api_version);\\n    event NewVault(address indexed token, uint256 indexed vault_id, address vault, string api_version);\\n    event NewExperimentalVault(address indexed token, address indexed deployer, address vault, string api_version);\\n    event NewGovernance(address governance);\\n    event VaultTagged(address vault, string tag);\\n\\n    constructor() {\\n        governance = msg.sender;\\n    }\\n\\n    // Governance\\n    function setGovernance(address _gov) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        pendingGovernance = _gov;\\n    }\\n    function acceptGovernance() external {\\n        require(msg.sender == pendingGovernance, \\\"unauthorized\\\");\\n        governance = msg.sender;\\n        emit NewGovernance(msg.sender);\\n    }\\n\\n    // Views\\n    function latestRelease() external view returns (string memory) {\\n        require(numReleases > 0, \\\"no release\\\");\\n        return IVaultRegistryView(releases[numReleases - 1]).apiVersion();\\n    }\\n    function latestVault(address token) external view returns (address) {\\n        require(numVaults[token] > 0, \\\"no vault for token\\\");\\n        return vaults[token][numVaults[token] - 1];\\n    }\\n\\n    // Release management vault version\\n    function newRelease(address vault) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        uint256 release_id = numReleases;\\n        if (release_id > 0) {\\n            string memory prev = IVaultRegistryView(releases[release_id - 1]).apiVersion();\\n            string memory next = IVaultRegistryView(vault).apiVersion();\\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \\\"same api version\\\");\\n        }\\n        releases[release_id] = vault;\\n        numReleases = release_id + 1;\\n        emit NewRelease(release_id, vault, IVaultRegistryView(vault).apiVersion());\\n    }\\n\\n    // EIP-1167 minimal proxy clone using OpenZeppelin implementation\\n    function _clone(address implementation) internal returns (address instance) {\\n        return Clones.clone(implementation);\\n    }\\n\\n    function _newProxyVault(\\n        address token,\\n        address _governance,\\n        address rewards,\\n        address guardian,\\n        string memory name,\\n        string memory symbol,\\n        uint256 releaseTarget\\n    ) internal returns (address) {\\n        address release = releases[releaseTarget];\\n        require(release != address(0), \\\"unknown release\\\");\\n        address vault = _clone(release);\\n        // Match Vyper default for management (msg.sender), which would be Registry in that context\\n        IVaultInitialize(vault).initialize(token, _governance, rewards, name, symbol, guardian, address(this));\\n        return vault;\\n    }\\n\\n    function _registerVault(address token, address vault) internal {\\n        uint256 vault_id = numVaults[token];\\n        if (vault_id > 0) {\\n            string memory prev = IVaultRegistryView(vaults[token][vault_id - 1]).apiVersion();\\n            string memory next = IVaultRegistryView(vault).apiVersion();\\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \\\"same api version\\\");\\n        }\\n        vaults[token][vault_id] = vault;\\n        numVaults[token] = vault_id + 1;\\n        if (!isRegistered[token]) {\\n            isRegistered[token] = true;\\n            tokens[numTokens] = token;\\n            numTokens += 1;\\n        }\\n        emit NewVault(token, vault_id, vault, IVaultRegistryView(vault).apiVersion());\\n    }\\n\\n    function newVault(\\n        address token,\\n        address guardian,\\n        address rewards,\\n        string calldata name,\\n        string calldata symbol,\\n        uint256 releaseDelta\\n    ) external returns (address) {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\\n        address vault = _newProxyVault(token, msg.sender, rewards, guardian, name, symbol, releaseTarget);\\n        _registerVault(token, vault);\\n        return vault;\\n    }\\n\\n    function newExperimentalVault(\\n        address token,\\n        address _governance,\\n        address guardian,\\n        address rewards,\\n        string calldata name,\\n        string calldata symbol,\\n        uint256 releaseDelta\\n    ) external returns (address) {\\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\\n        address vault = _newProxyVault(token, _governance, rewards, guardian, name, symbol, releaseTarget);\\n        emit NewExperimentalVault(token, msg.sender, vault, IVaultRegistryView(vault).apiVersion());\\n        return vault;\\n    }\\n\\n    function endorseVault(address vault, uint256 releaseDelta) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        require(IVaultRegistryView(vault).governance() == msg.sender, \\\"not governed\\\");\\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\\n        string memory api = IVaultRegistryView(releases[releaseTarget]).apiVersion();\\n        require(keccak256(bytes(IVaultRegistryView(vault).apiVersion())) == keccak256(bytes(api)), \\\"not target release\\\");\\n        _registerVault(IVaultRegistryView(vault).token(), vault);\\n    }\\n\\n    function setBanksy(address tagger, bool allowed) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        banksy[tagger] = allowed;\\n    }\\n\\n    function tagVault(address vault, string calldata tag) external {\\n        if (msg.sender != governance) {\\n            require(banksy[msg.sender], \\\"not banksy\\\");\\n        }\\n        tags[vault] = tag;\\n        emit VaultTagged(vault, tag);\\n    }\\n}\\n\\n\\n\",\"keccak256\":\"0x8fbbfe415e48db5e2e668fa7100ab846e46daca0a04c883bb5978eda8f4916de\",\"license\":\"MIT OR AGPL-3.0\"},\"lib/openzeppelin-contracts/contracts/proxy/Clones.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (proxy/Clones.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev https://eips.ethereum.org/EIPS/eip-1167[EIP 1167] is a standard for\\n * deploying minimal proxy contracts, also known as \\\"clones\\\".\\n *\\n * > To simply and cheaply clone contract functionality in an immutable way, this standard specifies\\n * > a minimal bytecode implementation that delegates all calls to a known, fixed address.\\n *\\n * The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2`\\n * (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the\\n * deterministic method.\\n *\\n * _Available since v3.4._\\n */\\nlibrary Clones {\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create opcode, which should never revert.\\n     */\\n    function clone(address implementation) internal returns (address instance) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\\n            // of the `implementation` address with the bytecode before the address.\\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\\n            instance := create(0, 0x09, 0x37)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create failed\\\");\\n    }\\n\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create2 opcode and a `salt` to deterministically deploy\\n     * the clone. Using the same `implementation` and `salt` multiple time will revert, since\\n     * the clones cannot be deployed twice at the same address.\\n     */\\n    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\\n            // of the `implementation` address with the bytecode before the address.\\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\\n            instance := create2(0, 0x09, 0x37, salt)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create2 failed\\\");\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(\\n        address implementation,\\n        bytes32 salt,\\n        address deployer\\n    ) internal pure returns (address predicted) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(add(ptr, 0x38), deployer)\\n            mstore(add(ptr, 0x24), 0x5af43d82803e903d91602b57fd5bf3ff)\\n            mstore(add(ptr, 0x14), implementation)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73)\\n            mstore(add(ptr, 0x58), salt)\\n            mstore(add(ptr, 0x78), keccak256(add(ptr, 0x0c), 0x37))\\n            predicted := keccak256(add(ptr, 0x43), 0x55)\\n        }\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(\\n        address implementation,\\n        bytes32 salt\\n    ) internal view returns (address predicted) {\\n        return predictDeterministicAddress(implementation, salt, address(this));\\n    }\\n}\\n\",\"keccak256\":\"0x01f055f5c26ba25d7f83e9aa9ba877fbea4d0bf22227de046ea67494bc932999\",\"license\":\"MIT\"}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"address","name":"deployer","type":"address","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"string","name":"api_version","type":"string","indexed":false}],"type":"event","name":"NewExperimentalVault","anonymous":false},{"inputs":[{"internalType":"address","name":"governance","type":"address","indexed":false}],"type":"event","name":"NewGovernance","anonymous":false},{"inputs":[{"internalType":"uint256","name":"release_id","type":"uint256","indexed":true},{"internalType":"address","name":"template","type":"address","indexed":false},{"internalType":"string","name":"api_version","type":"string","indexed":false}],"type":"event","name":"NewRelease","anonymous":false},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"uint256","name":"vault_id","type":"uint256","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"string","name":"api_version","type":"string","indexed":false}],"type":"event","name":"NewVault","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"string","name":"tag","type":"string","indexed":false}],"type":"event","name":"VaultTagged","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"acceptGovernance"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"banksy","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"uint256","name":"releaseDelta","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"endorseVault"},{"inputs":[],"stateMutability":"view","type":"function","name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"latestRelease","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"stateMutability":"view","type":"function","name":"latestVault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"_governance","type":"address"},{"internalType":"address","name":"guardian","type":"address"},{"internalType":"address","name":"rewards","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"releaseDelta","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"newExperimentalVault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"vault","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"newRelease"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"guardian","type":"address"},{"internalType":"address","name":"rewards","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"releaseDelta","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"newVault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"numReleases","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"numTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"numVaults","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pendingGovernance","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"releases","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"tagger","type":"address"},{"internalType":"bool","name":"allowed","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setBanksy"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGovernance"},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"string","name":"tag","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"tagVault"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"tags","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"tokens","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"vaults","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"useLiteralContent":true,"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/src/core/Registry.sol":"Registry"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"contracts/src/core/Registry.sol":{"keccak256":"0x8fbbfe415e48db5e2e668fa7100ab846e46daca0a04c883bb5978eda8f4916de","urls":[],"content":"// SPDX-License-Identifier: MIT OR AGPL-3.0\npragma solidity ^0.8.20;\n\nimport \"@openzeppelin/contracts/proxy/Clones.sol\";\n\ninterface IVaultRegistryView {\n    function token() external view returns (address);\n    function apiVersion() external view returns (string memory);\n    function governance() external view returns (address);\n}\n\ninterface IVaultInitialize {\n    // Initialization (replaces Vyper initialize external)\n    function initialize(\n        address token,\n        address governance,\n        address rewards,\n        string calldata name,\n        string calldata symbol,\n        address guardian,\n        address management\n    ) external;\n}\n\ncontract Registry {\n    // releases\n    uint256 public numReleases;\n    mapping(uint256 => address) public releases;\n\n    // token => vaults count\n    mapping(address => uint256) public numVaults;\n    mapping(address => mapping(uint256 => address)) public vaults; // token => id => vault\n\n    // tokens index\n    mapping(uint256 => address) public tokens; // index => token\n    uint256 public numTokens;\n    mapping(address => bool) public isRegistered; // token => included\n\n    // governance (2-step)\n    address public governance;\n    address public pendingGovernance;\n\n    // tagging\n    mapping(address => string) public tags; // vault => tag\n    mapping(address => bool) public banksy; // tagger => allowed\n\n    event NewRelease(uint256 indexed release_id, address template, string api_version);\n    event NewVault(address indexed token, uint256 indexed vault_id, address vault, string api_version);\n    event NewExperimentalVault(address indexed token, address indexed deployer, address vault, string api_version);\n    event NewGovernance(address governance);\n    event VaultTagged(address vault, string tag);\n\n    constructor() {\n        governance = msg.sender;\n    }\n\n    // Governance\n    function setGovernance(address _gov) external {\n        require(msg.sender == governance, \"unauthorized\");\n        pendingGovernance = _gov;\n    }\n    function acceptGovernance() external {\n        require(msg.sender == pendingGovernance, \"unauthorized\");\n        governance = msg.sender;\n        emit NewGovernance(msg.sender);\n    }\n\n    // Views\n    function latestRelease() external view returns (string memory) {\n        require(numReleases > 0, \"no release\");\n        return IVaultRegistryView(releases[numReleases - 1]).apiVersion();\n    }\n    function latestVault(address token) external view returns (address) {\n        require(numVaults[token] > 0, \"no vault for token\");\n        return vaults[token][numVaults[token] - 1];\n    }\n\n    // Release management vault version\n    function newRelease(address vault) external {\n        require(msg.sender == governance, \"unauthorized\");\n        uint256 release_id = numReleases;\n        if (release_id > 0) {\n            string memory prev = IVaultRegistryView(releases[release_id - 1]).apiVersion();\n            string memory next = IVaultRegistryView(vault).apiVersion();\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \"same api version\");\n        }\n        releases[release_id] = vault;\n        numReleases = release_id + 1;\n        emit NewRelease(release_id, vault, IVaultRegistryView(vault).apiVersion());\n    }\n\n    // EIP-1167 minimal proxy clone using OpenZeppelin implementation\n    function _clone(address implementation) internal returns (address instance) {\n        return Clones.clone(implementation);\n    }\n\n    function _newProxyVault(\n        address token,\n        address _governance,\n        address rewards,\n        address guardian,\n        string memory name,\n        string memory symbol,\n        uint256 releaseTarget\n    ) internal returns (address) {\n        address release = releases[releaseTarget];\n        require(release != address(0), \"unknown release\");\n        address vault = _clone(release);\n        // Match Vyper default for management (msg.sender), which would be Registry in that context\n        IVaultInitialize(vault).initialize(token, _governance, rewards, name, symbol, guardian, address(this));\n        return vault;\n    }\n\n    function _registerVault(address token, address vault) internal {\n        uint256 vault_id = numVaults[token];\n        if (vault_id > 0) {\n            string memory prev = IVaultRegistryView(vaults[token][vault_id - 1]).apiVersion();\n            string memory next = IVaultRegistryView(vault).apiVersion();\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \"same api version\");\n        }\n        vaults[token][vault_id] = vault;\n        numVaults[token] = vault_id + 1;\n        if (!isRegistered[token]) {\n            isRegistered[token] = true;\n            tokens[numTokens] = token;\n            numTokens += 1;\n        }\n        emit NewVault(token, vault_id, vault, IVaultRegistryView(vault).apiVersion());\n    }\n\n    function newVault(\n        address token,\n        address guardian,\n        address rewards,\n        string calldata name,\n        string calldata symbol,\n        uint256 releaseDelta\n    ) external returns (address) {\n        require(msg.sender == governance, \"unauthorized\");\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\n        address vault = _newProxyVault(token, msg.sender, rewards, guardian, name, symbol, releaseTarget);\n        _registerVault(token, vault);\n        return vault;\n    }\n\n    function newExperimentalVault(\n        address token,\n        address _governance,\n        address guardian,\n        address rewards,\n        string calldata name,\n        string calldata symbol,\n        uint256 releaseDelta\n    ) external returns (address) {\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\n        address vault = _newProxyVault(token, _governance, rewards, guardian, name, symbol, releaseTarget);\n        emit NewExperimentalVault(token, msg.sender, vault, IVaultRegistryView(vault).apiVersion());\n        return vault;\n    }\n\n    function endorseVault(address vault, uint256 releaseDelta) external {\n        require(msg.sender == governance, \"unauthorized\");\n        require(IVaultRegistryView(vault).governance() == msg.sender, \"not governed\");\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\n        string memory api = IVaultRegistryView(releases[releaseTarget]).apiVersion();\n        require(keccak256(bytes(IVaultRegistryView(vault).apiVersion())) == keccak256(bytes(api)), \"not target release\");\n        _registerVault(IVaultRegistryView(vault).token(), vault);\n    }\n\n    function setBanksy(address tagger, bool allowed) external {\n        require(msg.sender == governance, \"unauthorized\");\n        banksy[tagger] = allowed;\n    }\n\n    function tagVault(address vault, string calldata tag) external {\n        if (msg.sender != governance) {\n            require(banksy[msg.sender], \"not banksy\");\n        }\n        tags[vault] = tag;\n        emit VaultTagged(vault, tag);\n    }\n}\n\n\n","license":"MIT OR AGPL-3.0"},"lib/openzeppelin-contracts/contracts/proxy/Clones.sol":{"keccak256":"0x01f055f5c26ba25d7f83e9aa9ba877fbea4d0bf22227de046ea67494bc932999","urls":[],"content":"// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v4.9.0) (proxy/Clones.sol)\n\npragma solidity ^0.8.0;\n\n/**\n * @dev https://eips.ethereum.org/EIPS/eip-1167[EIP 1167] is a standard for\n * deploying minimal proxy contracts, also known as \"clones\".\n *\n * > To simply and cheaply clone contract functionality in an immutable way, this standard specifies\n * > a minimal bytecode implementation that delegates all calls to a known, fixed address.\n *\n * The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2`\n * (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the\n * deterministic method.\n *\n * _Available since v3.4._\n */\nlibrary Clones {\n    /**\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\n     *\n     * This function uses the create opcode, which should never revert.\n     */\n    function clone(address implementation) internal returns (address instance) {\n        /// @solidity memory-safe-assembly\n        assembly {\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\n            // of the `implementation` address with the bytecode before the address.\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\n            instance := create(0, 0x09, 0x37)\n        }\n        require(instance != address(0), \"ERC1167: create failed\");\n    }\n\n    /**\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\n     *\n     * This function uses the create2 opcode and a `salt` to deterministically deploy\n     * the clone. Using the same `implementation` and `salt` multiple time will revert, since\n     * the clones cannot be deployed twice at the same address.\n     */\n    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {\n        /// @solidity memory-safe-assembly\n        assembly {\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\n            // of the `implementation` address with the bytecode before the address.\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\n            instance := create2(0, 0x09, 0x37, salt)\n        }\n        require(instance != address(0), \"ERC1167: create2 failed\");\n    }\n\n    /**\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\n     */\n    function predictDeterministicAddress(\n        address implementation,\n        bytes32 salt,\n        address deployer\n    ) internal pure returns (address predicted) {\n        /// @solidity memory-safe-assembly\n        assembly {\n            let ptr := mload(0x40)\n            mstore(add(ptr, 0x38), deployer)\n            mstore(add(ptr, 0x24), 0x5af43d82803e903d91602b57fd5bf3ff)\n            mstore(add(ptr, 0x14), implementation)\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73)\n            mstore(add(ptr, 0x58), salt)\n            mstore(add(ptr, 0x78), keccak256(add(ptr, 0x0c), 0x37))\n            predicted := keccak256(add(ptr, 0x43), 0x55)\n        }\n    }\n\n    /**\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\n     */\n    function predictDeterministicAddress(\n        address implementation,\n        bytes32 salt\n    ) internal view returns (address predicted) {\n        return predictDeterministicAddress(implementation, salt, address(this));\n    }\n}\n","license":"MIT"}},"version":1},"id":10}