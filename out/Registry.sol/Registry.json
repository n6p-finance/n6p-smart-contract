{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"acceptGovernance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"banksy","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"endorseVault","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"releaseDelta","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"governance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isRegistered","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"latestRelease","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"latestVault","inputs":[{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"newExperimentalVault","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"_governance","type":"address","internalType":"address"},{"name":"guardian","type":"address","internalType":"address"},{"name":"rewards","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"symbol","type":"string","internalType":"string"},{"name":"releaseDelta","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"newRelease","inputs":[{"name":"vault","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"newVault","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"guardian","type":"address","internalType":"address"},{"name":"rewards","type":"address","internalType":"address"},{"name":"name","type":"string","internalType":"string"},{"name":"symbol","type":"string","internalType":"string"},{"name":"releaseDelta","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"numReleases","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"numTokens","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"numVaults","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"pendingGovernance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"releases","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setBanksy","inputs":[{"name":"tagger","type":"address","internalType":"address"},{"name":"allowed","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setGovernance","inputs":[{"name":"_gov","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"tagVault","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"tag","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"tags","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"tokens","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"vaults","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"event","name":"NewExperimentalVault","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"deployer","type":"address","indexed":true,"internalType":"address"},{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"api_version","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"NewGovernance","inputs":[{"name":"governance","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"NewRelease","inputs":[{"name":"release_id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"template","type":"address","indexed":false,"internalType":"address"},{"name":"api_version","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"NewVault","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"vault_id","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"api_version","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"VaultTagged","inputs":[{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"tag","type":"string","indexed":false,"internalType":"string"}],"anonymous":false}],"bytecode":{"object":"0x6080806040523461002857600780546001600160a01b031916331790556115cc908161002d8239f35b5f80fdfe60406080815260049081361015610014575f80fd5b5f91823560e01c908163238efcbc14610e8257816333990d4b14610cda5781634f64b2be14610ca857816356e0a94b14610c8b57816358b8f84214610ba45781635aa6e67514610b7b5781635bd4b0f214610a0a5781635e05f6af146109a957816360bd68f8146107795781637bbfc69e146107355781637be0ca5e146106515781638e499bcf14610632578163ab033ea9146105e7578163b0b40fce146104f6578163b366a35c146102d0578163b6a9f40f1461029d578163c3c5a5471461025f578163e177dc70146101a657508063ee711ed514610169578063f39c38a0146101415763f9c7bba514610107575f80fd5b3461013d57602036600319011261013d5760209181906001600160a01b0361012d610ee9565b1681526002845220549051908152f35b5080fd5b503461013d578160031936011261013d5760085490516001600160a01b039091168152602090f35b503461013d57602036600319011261013d5760209160ff9082906001600160a01b03610193610ee9565b168152600a855220541690519015158152f35b90503461025b5760209283600319360112610258576001600160a01b0391826101cd610ee9565b1680835260028652848320541561022057825260038552838220600286528483205490915f19820191821161020d57508252845282902054915191168152f35b634e487b7160e01b845260119052602483fd5b845162461bcd60e51b815280830187905260126024820152713737903b30bab63a103337b9103a37b5b2b760711b6044820152606490fd5b80fd5b8280fd5b50503461013d57602036600319011261013d5760209160ff9082906001600160a01b0361028a610ee9565b1681526006855220541690519015158152f35b90503461025b57602036600319011261025b5735825260016020908152918190205490516001600160a01b039091168152f35b90503461025b578160031936011261025b576102ea610ee9565b60075490916001600160a01b03916103059083163314611011565b8351635aa6e67560e01b81526020928481169184818581865afa90811561046e5788916104d9575b5081339116036104a75786545f19810190811161049457610351906024359061104c565b875260018452858720541685519087828581630258294160e41b948582525afa91821561046e578892610478575b50865190815287818581865afa90811561046e57889161044c575b508481519101209084815191012003610415578290855192838092637e062a3560e11b82525afa91821561040b576103db945085926103de575b5050611341565b80f35b6103fd9250803d10610404575b6103f58183610f67565b810190611577565b5f806103d4565b503d6103eb565b84513d87823e3d90fd5b5060649184519162461bcd60e51b835282015260126024820152716e6f74207461726765742072656c6561736560701b6044820152fd5b61046891503d808a833e6104608183610f67565b810190611089565b5f61039a565b87513d8a823e3d90fd5b61048d9192503d808a833e6104608183610f67565b905f61037f565b634e487b7160e01b885260118452602488fd5b855162461bcd60e51b8152808401859052600c60248201526b1b9bdd0819dbdd995c9b995960a21b6044820152606490fd5b6104f09150853d8711610404576103f58183610f67565b5f61032d565b8284346102585760c036600319011261025857610511610ee9565b9161051a610f03565b610522610f19565b67ffffffffffffffff6064358181116105e3576105429036908901610fe3565b9390916084359081116105df5761055c9036908a01610fe3565b9260018060a01b039761057489600754163314611011565b80545f198101919082116105cc575060209a506105c59694926105ae6105be9795936105a66105b69460a4359061104c565b97369161114c565b93369161114c565b92338a611182565b8094611341565b5191168152f35b634e487b7160e01b815260118c52602490fd5b8680fd5b8580fd5b833461025857602036600319011261025857610601610ee9565b6007546001600160a01b03919061061b9083163314611011565b166001600160601b0360a01b600854161760085580f35b50503461013d578160031936011261013d576020906005549051908152f35b9190503461025b578260031936011261025b5782548015610705575f1981019081116106f25783526001602052808320548151630258294160e41b815292849184919082906001600160a01b03165afa9182156106e857836106c794936106cb575b505051918291602083526020830190610fbe565b0390f35b6106e09293503d8091833e6104608183610f67565b905f806106b3565b81513d85823e3d90fd5b634e487b7160e01b845260118352602484fd5b815162461bcd60e51b8152602081850152600a6024820152696e6f2072656c6561736560b01b6044820152606490fd5b50503461013d578060031936011261013d576020916001600160a01b039082908261075e610ee9565b16815260038552818120602435825285522054169051908152f35b8391503461013d578260031936011261013d57610794610ee9565b67ffffffffffffffff93906024358581116109a5576107b69036908501610fe3565b60075490926001600160a01b039182163303610962575b16928386526020946009865281872097841161094f57506107ee8754610f2f565b601f811161090c575b508596601f84116001146108825791838093928193606097968a9b7f07bd58794c2ca0ae152f7719eb5f02c654476de972cadec0e8191ae8be42096d9b91610877575b508360011b905f198560031b1c19161790555b8080519889978852870152850152848401378181018301869052601f01601f19168101030190a180f35b90508401358c61083a565b808752858720601f198516885b8181106108f55750928594928594927f07bd58794c2ca0ae152f7719eb5f02c654476de972cadec0e8191ae8be42096d9a9b8660609a9995106108dc575b5050600183811b01905561084d565b8501355f19600386901b60f8161c191690558b806108cd565b858b0135835599880199600190920191880161088f565b878752858720601f850160051c810191878610610945575b601f0160051c01905b81811061093a57506107f7565b87815560010161092d565b9091508190610924565b634e487b7160e01b875260419052602486fd5b338752600a60205260ff85882054166107cd57845162461bcd60e51b8152602081880152600a6024820152696e6f742062616e6b737960b01b6044820152606490fd5b8480fd5b50503461013d578060031936011261013d576109c3610ee9565b9060243591821515809303610a06576007546001600160a01b0391906109ec9083163314611011565b168352600a60205282209060ff8019835416911617905580f35b8380fd5b83833461013d5760e036600319011261013d57610a25610ee9565b90610a2e610f03565b91610a37610f19565b606435956001600160a01b039490919085881688036105df5767ffffffffffffffff97608435898111610b7757610a719036908601610fe3565b93909960a435908111610b7357610a8b9036908701610fe3565b92909a8a545f198101908111610b60579b610ac0610ac892610ab8610acf9a9b9c9d9e9f60c4359061104c565b98369161114c565b94369161114c565b9388611182565b90848216948685518093630258294160e41b825281895afa918215610b5657907f57a9cdc2a05e05f66e76769bdbe88e21ec45d9ee0f97d4cb60395d4c75dcbcda92918860209993610b39575b5050610b308651928392339716958361112a565b0390a351908152f35b610b4e9293503d8091833e6104608183610f67565b908880610b1c565b85513d89823e3d90fd5b634e487b7160e01b8c526011885260248cfd5b8980fd5b8880fd5b50503461013d578160031936011261013d5760075490516001600160a01b039091168152602090f35b50503461013d576020908160031936011261025b576001600160a01b03610bc9610ee9565b16835260098252808320815193849181815490610be582610f2f565b928386526001928884821691825f14610c61575050600114610c23575b85886106c789610c14848a0385610f67565b51928284938452830190610fbe565b87945081939291528383205b828410610c495750505082010181610c146106c75f610c02565b8054848a018601528895508794909301928101610c2f565b60ff19168882015294151560051b87019094019450859350610c1492506106c791505f9050610c02565b50503461013d578160031936011261013d57602091549051908152f35b90503461025b57602036600319011261025b57803583526020908152918190205490516001600160a01b039091168152f35b90503461025b57602036600319011261025b57610cf5610ee9565b6007546001600160a01b03929190610d109084163314611011565b84549283610dd5575b8386526001602081905285872080546001600160a01b03191692841692831790558401808511610dc25786558451630258294160e41b815292869184919082905afa91821561040b57937fa6fbd216b6734f34092f1be6b7247e1551a6d4f2d5000c53721cfdc119a5b7cf93948693610da2575b50610d9c90519283928361112a565b0390a280f35b610d9c919350610dbb903d8089833e6104608183610f67565b9290610d8d565b634e487b7160e01b875260118452602487fd5b5f198401848111610dc25786526001602052808587205416855187818681630258294160e41b958682525afa90811561046e578891610e68575b508651918252878286818688165afa90811561046e57610e47928992610e4c575b5060208151910120906020815191012014156110eb565b610d19565b610e619192503d808b833e6104608183610f67565b905f610e30565b610e7c91503d808a833e6104608183610f67565b5f610e0f565b50503461013d578160031936011261013d5760207f4f386975ea1c2f7cf1845b08bee00626fbb624ecad16254d63d9bb9ba86526de91610ecd60018060a01b03600854163314611011565b336001600160601b0360a01b600754161760075551338152a180f35b600435906001600160a01b0382168203610eff57565b5f80fd5b602435906001600160a01b0382168203610eff57565b604435906001600160a01b0382168203610eff57565b90600182811c92168015610f5d575b6020831014610f4957565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610f3e565b90601f8019910116810190811067ffffffffffffffff821117610f8957604052565b634e487b7160e01b5f52604160045260245ffd5b5f5b838110610fae5750505f910152565b8181015183820152602001610f9f565b90602091610fd781518092818552858086019101610f9d565b601f01601f1916010190565b9181601f84011215610eff5782359167ffffffffffffffff8311610eff5760208381860195010111610eff57565b1561101857565b60405162461bcd60e51b815260206004820152600c60248201526b1d5b985d5d1a1bdc9a5e995960a21b6044820152606490fd5b9190820391821161105957565b634e487b7160e01b5f52601160045260245ffd5b67ffffffffffffffff8111610f8957601f01601f191660200190565b602081830312610eff5780519067ffffffffffffffff8211610eff570181601f82011215610eff5780516110bc8161106d565b926110ca6040519485610f67565b81845260208284010111610eff576110e89160208085019101610f9d565b90565b156110f257565b60405162461bcd60e51b815260206004820152601060248201526f39b0b6b29030b834903b32b939b4b7b760811b6044820152606490fd5b6001600160a01b0390911681526040602082018190526110e892910190610fbe565b9291926111588261106d565b916111666040519384610f67565b829481845281830111610eff578281602093845f960137010152565b5f968752600160205260408088205495976001600160a01b03979196909593949391908881161561130b57608881901c62ffffff16763d602d80600a3d3981f3363d3d373d3d3d363d7300000017875260781b6effffffffffffffffffffffffffffff19166e5af43d82803e903d91602b57fd5bf3176020526037600987f098888a169485156112ce57853b156112ca57928988979695929388948280978d519e8f9b8c9a8b9963538baeab60e01b8b521660048a01521660248801521660448601526064850160e0905260e4850161125a91610fbe565b84810360031901608486015261126f91610fbe565b911660a48301523060c483015203925af180156112be57611291575b50505090565b67ffffffffffffffff83116112aa5750525f808061128b565b634e487b7160e01b81526041600452602490fd5b509051903d90823e3d90fd5b8780fd5b885162461bcd60e51b8152602060048201526016602482015275115490cc4c4d8dce8818dc99585d194819985a5b195960521b6044820152606490fd5b875162461bcd60e51b815260206004820152600f60248201526e756e6b6e6f776e2072656c6561736560881b6044820152606490fd5b6001600160a01b039081165f8181526002602090815260408083205492969592949291856114ba575b848852600381528188208689528152818820938316906001600160601b0360a01b948286825416179055600187018088116114a65790899291878452600282528484205560068152838320805460ff81161561144f575b50508351630258294160e41b8152955085916004915082905afa92831561144557877fce089905ba4a4d622553bcb5646fd23e895c256f0376eee04e99e61cec1dc7e89596979894611423575b505061141e90519283928361112a565b0390a3565b61141e9294509061143d913d8091833e6104608183610f67565b92905f61140e565b81513d89823e3d90fd5b600493959697945060019060ff19161790556005548a525284838920918254161790556005546001810180911161149257600493929188916005555f80806113c1565b634e487b7160e01b88526011600452602488fd5b634e487b7160e01b8a52601160045260248afd5b600381528188205f1987018781116114a6578952815283828920541682518981600481630258294160e41b958682525afa908115611553578a9161155d575b50835191825289826004818989165afa918215611553579061153292918b92611537575b508381519101209083815191012014156110eb565b61136a565b61154c9192503d808d833e6104608183610f67565b905f61151d565b84513d8c823e3d90fd5b61157191503d808c833e6104608183610f67565b5f6114f9565b90816020910312610eff57516001600160a01b0381168103610eff579056fea2646970667358221220ff31e47e89072d10ad952aabe5fbec7bbfb1e70bdc379c2ed17ed73094590f3864736f6c63430008140033","sourceMap":"657:6310:0:-:0;;;;;;;1803:23;657:6310;;-1:-1:-1;;;;;;657:6310:0;1816:10;657:6310;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60406080815260049081361015610014575f80fd5b5f91823560e01c908163238efcbc14610e8257816333990d4b14610cda5781634f64b2be14610ca857816356e0a94b14610c8b57816358b8f84214610ba45781635aa6e67514610b7b5781635bd4b0f214610a0a5781635e05f6af146109a957816360bd68f8146107795781637bbfc69e146107355781637be0ca5e146106515781638e499bcf14610632578163ab033ea9146105e7578163b0b40fce146104f6578163b366a35c146102d0578163b6a9f40f1461029d578163c3c5a5471461025f578163e177dc70146101a657508063ee711ed514610169578063f39c38a0146101415763f9c7bba514610107575f80fd5b3461013d57602036600319011261013d5760209181906001600160a01b0361012d610ee9565b1681526002845220549051908152f35b5080fd5b503461013d578160031936011261013d5760085490516001600160a01b039091168152602090f35b503461013d57602036600319011261013d5760209160ff9082906001600160a01b03610193610ee9565b168152600a855220541690519015158152f35b90503461025b5760209283600319360112610258576001600160a01b0391826101cd610ee9565b1680835260028652848320541561022057825260038552838220600286528483205490915f19820191821161020d57508252845282902054915191168152f35b634e487b7160e01b845260119052602483fd5b845162461bcd60e51b815280830187905260126024820152713737903b30bab63a103337b9103a37b5b2b760711b6044820152606490fd5b80fd5b8280fd5b50503461013d57602036600319011261013d5760209160ff9082906001600160a01b0361028a610ee9565b1681526006855220541690519015158152f35b90503461025b57602036600319011261025b5735825260016020908152918190205490516001600160a01b039091168152f35b90503461025b578160031936011261025b576102ea610ee9565b60075490916001600160a01b03916103059083163314611011565b8351635aa6e67560e01b81526020928481169184818581865afa90811561046e5788916104d9575b5081339116036104a75786545f19810190811161049457610351906024359061104c565b875260018452858720541685519087828581630258294160e41b948582525afa91821561046e578892610478575b50865190815287818581865afa90811561046e57889161044c575b508481519101209084815191012003610415578290855192838092637e062a3560e11b82525afa91821561040b576103db945085926103de575b5050611341565b80f35b6103fd9250803d10610404575b6103f58183610f67565b810190611577565b5f806103d4565b503d6103eb565b84513d87823e3d90fd5b5060649184519162461bcd60e51b835282015260126024820152716e6f74207461726765742072656c6561736560701b6044820152fd5b61046891503d808a833e6104608183610f67565b810190611089565b5f61039a565b87513d8a823e3d90fd5b61048d9192503d808a833e6104608183610f67565b905f61037f565b634e487b7160e01b885260118452602488fd5b855162461bcd60e51b8152808401859052600c60248201526b1b9bdd0819dbdd995c9b995960a21b6044820152606490fd5b6104f09150853d8711610404576103f58183610f67565b5f61032d565b8284346102585760c036600319011261025857610511610ee9565b9161051a610f03565b610522610f19565b67ffffffffffffffff6064358181116105e3576105429036908901610fe3565b9390916084359081116105df5761055c9036908a01610fe3565b9260018060a01b039761057489600754163314611011565b80545f198101919082116105cc575060209a506105c59694926105ae6105be9795936105a66105b69460a4359061104c565b97369161114c565b93369161114c565b92338a611182565b8094611341565b5191168152f35b634e487b7160e01b815260118c52602490fd5b8680fd5b8580fd5b833461025857602036600319011261025857610601610ee9565b6007546001600160a01b03919061061b9083163314611011565b166001600160601b0360a01b600854161760085580f35b50503461013d578160031936011261013d576020906005549051908152f35b9190503461025b578260031936011261025b5782548015610705575f1981019081116106f25783526001602052808320548151630258294160e41b815292849184919082906001600160a01b03165afa9182156106e857836106c794936106cb575b505051918291602083526020830190610fbe565b0390f35b6106e09293503d8091833e6104608183610f67565b905f806106b3565b81513d85823e3d90fd5b634e487b7160e01b845260118352602484fd5b815162461bcd60e51b8152602081850152600a6024820152696e6f2072656c6561736560b01b6044820152606490fd5b50503461013d578060031936011261013d576020916001600160a01b039082908261075e610ee9565b16815260038552818120602435825285522054169051908152f35b8391503461013d578260031936011261013d57610794610ee9565b67ffffffffffffffff93906024358581116109a5576107b69036908501610fe3565b60075490926001600160a01b039182163303610962575b16928386526020946009865281872097841161094f57506107ee8754610f2f565b601f811161090c575b508596601f84116001146108825791838093928193606097968a9b7f07bd58794c2ca0ae152f7719eb5f02c654476de972cadec0e8191ae8be42096d9b91610877575b508360011b905f198560031b1c19161790555b8080519889978852870152850152848401378181018301869052601f01601f19168101030190a180f35b90508401358c61083a565b808752858720601f198516885b8181106108f55750928594928594927f07bd58794c2ca0ae152f7719eb5f02c654476de972cadec0e8191ae8be42096d9a9b8660609a9995106108dc575b5050600183811b01905561084d565b8501355f19600386901b60f8161c191690558b806108cd565b858b0135835599880199600190920191880161088f565b878752858720601f850160051c810191878610610945575b601f0160051c01905b81811061093a57506107f7565b87815560010161092d565b9091508190610924565b634e487b7160e01b875260419052602486fd5b338752600a60205260ff85882054166107cd57845162461bcd60e51b8152602081880152600a6024820152696e6f742062616e6b737960b01b6044820152606490fd5b8480fd5b50503461013d578060031936011261013d576109c3610ee9565b9060243591821515809303610a06576007546001600160a01b0391906109ec9083163314611011565b168352600a60205282209060ff8019835416911617905580f35b8380fd5b83833461013d5760e036600319011261013d57610a25610ee9565b90610a2e610f03565b91610a37610f19565b606435956001600160a01b039490919085881688036105df5767ffffffffffffffff97608435898111610b7757610a719036908601610fe3565b93909960a435908111610b7357610a8b9036908701610fe3565b92909a8a545f198101908111610b60579b610ac0610ac892610ab8610acf9a9b9c9d9e9f60c4359061104c565b98369161114c565b94369161114c565b9388611182565b90848216948685518093630258294160e41b825281895afa918215610b5657907f57a9cdc2a05e05f66e76769bdbe88e21ec45d9ee0f97d4cb60395d4c75dcbcda92918860209993610b39575b5050610b308651928392339716958361112a565b0390a351908152f35b610b4e9293503d8091833e6104608183610f67565b908880610b1c565b85513d89823e3d90fd5b634e487b7160e01b8c526011885260248cfd5b8980fd5b8880fd5b50503461013d578160031936011261013d5760075490516001600160a01b039091168152602090f35b50503461013d576020908160031936011261025b576001600160a01b03610bc9610ee9565b16835260098252808320815193849181815490610be582610f2f565b928386526001928884821691825f14610c61575050600114610c23575b85886106c789610c14848a0385610f67565b51928284938452830190610fbe565b87945081939291528383205b828410610c495750505082010181610c146106c75f610c02565b8054848a018601528895508794909301928101610c2f565b60ff19168882015294151560051b87019094019450859350610c1492506106c791505f9050610c02565b50503461013d578160031936011261013d57602091549051908152f35b90503461025b57602036600319011261025b57803583526020908152918190205490516001600160a01b039091168152f35b90503461025b57602036600319011261025b57610cf5610ee9565b6007546001600160a01b03929190610d109084163314611011565b84549283610dd5575b8386526001602081905285872080546001600160a01b03191692841692831790558401808511610dc25786558451630258294160e41b815292869184919082905afa91821561040b57937fa6fbd216b6734f34092f1be6b7247e1551a6d4f2d5000c53721cfdc119a5b7cf93948693610da2575b50610d9c90519283928361112a565b0390a280f35b610d9c919350610dbb903d8089833e6104608183610f67565b9290610d8d565b634e487b7160e01b875260118452602487fd5b5f198401848111610dc25786526001602052808587205416855187818681630258294160e41b958682525afa90811561046e578891610e68575b508651918252878286818688165afa90811561046e57610e47928992610e4c575b5060208151910120906020815191012014156110eb565b610d19565b610e619192503d808b833e6104608183610f67565b905f610e30565b610e7c91503d808a833e6104608183610f67565b5f610e0f565b50503461013d578160031936011261013d5760207f4f386975ea1c2f7cf1845b08bee00626fbb624ecad16254d63d9bb9ba86526de91610ecd60018060a01b03600854163314611011565b336001600160601b0360a01b600754161760075551338152a180f35b600435906001600160a01b0382168203610eff57565b5f80fd5b602435906001600160a01b0382168203610eff57565b604435906001600160a01b0382168203610eff57565b90600182811c92168015610f5d575b6020831014610f4957565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610f3e565b90601f8019910116810190811067ffffffffffffffff821117610f8957604052565b634e487b7160e01b5f52604160045260245ffd5b5f5b838110610fae5750505f910152565b8181015183820152602001610f9f565b90602091610fd781518092818552858086019101610f9d565b601f01601f1916010190565b9181601f84011215610eff5782359167ffffffffffffffff8311610eff5760208381860195010111610eff57565b1561101857565b60405162461bcd60e51b815260206004820152600c60248201526b1d5b985d5d1a1bdc9a5e995960a21b6044820152606490fd5b9190820391821161105957565b634e487b7160e01b5f52601160045260245ffd5b67ffffffffffffffff8111610f8957601f01601f191660200190565b602081830312610eff5780519067ffffffffffffffff8211610eff570181601f82011215610eff5780516110bc8161106d565b926110ca6040519485610f67565b81845260208284010111610eff576110e89160208085019101610f9d565b90565b156110f257565b60405162461bcd60e51b815260206004820152601060248201526f39b0b6b29030b834903b32b939b4b7b760811b6044820152606490fd5b6001600160a01b0390911681526040602082018190526110e892910190610fbe565b9291926111588261106d565b916111666040519384610f67565b829481845281830111610eff578281602093845f960137010152565b5f968752600160205260408088205495976001600160a01b03979196909593949391908881161561130b57608881901c62ffffff16763d602d80600a3d3981f3363d3d373d3d3d363d7300000017875260781b6effffffffffffffffffffffffffffff19166e5af43d82803e903d91602b57fd5bf3176020526037600987f098888a169485156112ce57853b156112ca57928988979695929388948280978d519e8f9b8c9a8b9963538baeab60e01b8b521660048a01521660248801521660448601526064850160e0905260e4850161125a91610fbe565b84810360031901608486015261126f91610fbe565b911660a48301523060c483015203925af180156112be57611291575b50505090565b67ffffffffffffffff83116112aa5750525f808061128b565b634e487b7160e01b81526041600452602490fd5b509051903d90823e3d90fd5b8780fd5b885162461bcd60e51b8152602060048201526016602482015275115490cc4c4d8dce8818dc99585d194819985a5b195960521b6044820152606490fd5b875162461bcd60e51b815260206004820152600f60248201526e756e6b6e6f776e2072656c6561736560881b6044820152606490fd5b6001600160a01b039081165f8181526002602090815260408083205492969592949291856114ba575b848852600381528188208689528152818820938316906001600160601b0360a01b948286825416179055600187018088116114a65790899291878452600282528484205560068152838320805460ff81161561144f575b50508351630258294160e41b8152955085916004915082905afa92831561144557877fce089905ba4a4d622553bcb5646fd23e895c256f0376eee04e99e61cec1dc7e89596979894611423575b505061141e90519283928361112a565b0390a3565b61141e9294509061143d913d8091833e6104608183610f67565b92905f61140e565b81513d89823e3d90fd5b600493959697945060019060ff19161790556005548a525284838920918254161790556005546001810180911161149257600493929188916005555f80806113c1565b634e487b7160e01b88526011600452602488fd5b634e487b7160e01b8a52601160045260248afd5b600381528188205f1987018781116114a6578952815283828920541682518981600481630258294160e41b958682525afa908115611553578a9161155d575b50835191825289826004818989165afa918215611553579061153292918b92611537575b508381519101209083815191012014156110eb565b61136a565b61154c9192503d808d833e6104608183610f67565b905f61151d565b84513d8c823e3d90fd5b61157191503d808c833e6104608183610f67565b5f6114f9565b90816020910312610eff57516001600160a01b0381168103610eff579056fea2646970667358221220ff31e47e89072d10ad952aabe5fbec7bbfb1e70bdc379c2ed17ed73094590f3864736f6c63430008140033","sourceMap":"657:6310:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;-1:-1:-1;;;;;657:6310:0;;:::i;:::-;;;;808:44;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;1195:32;657:6310;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;:::i;:::-;;;;1309:38;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;:::i;:::-;;;;;2494:9;657:6310;;;;;;2494:20;657:6310;;;;;;;;;;2494:9;657:6310;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;-1:-1:-1;657:6310:0;;;;;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;:::i;:::-;;;;1065:44;657:6310;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6075:10;657:6310;;;-1:-1:-1;;;;;657:6310:0;6053:49;;657:6310;;6061:10;:24;6053:49;:::i;:::-;657:6310;;-1:-1:-1;;;6120:38:0;;657:6310;;;;;;;;6120:38;657:6310;;6120:38;;;;;;;;;;;657:6310;6061:10;;;657:6310;;6120:52;657:6310;;;;-1:-1:-1;;657:6310:0;;;;;;;6223:30;657:6310;;;6223:30;;:::i;:::-;657:6310;;;;;;;;;;;;;;;;;;;;6304:56;;;;;;;;;;;;;;;657:6310;;;;6394:38;;;;;;;;;;;;;;;;;;;657:6310;;;;;;;6378:56;657:6310;;;;;;6438:21;6378:81;657:6310;;;;;;;;;;;;;6507:33;;;;;;;;;6542:5;6507:33;;;;;;657:6310;6542:5;;;:::i;:::-;657:6310;;6507:33;;;;;;-1:-1:-1;6507:33:0;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;6394:38;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;657:6310;;;;;;;;;6304:56;;;;;;;;;;;;;;:::i;:::-;;;;;657:6310;-1:-1:-1;;;657:6310:0;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;6120:38;;;;;;;;;;;;;;:::i;:::-;;;;657:6310;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;:::i;:::-;;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;5074:49;657:6310;5096:10;657:6310;;5082:10;:24;5074:49;:::i;:::-;657:6310;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;5347:5;657:6310;;;;5234:81;657:6310;;;5157:30;657:6310;;;;5157:30;;:::i;:::-;657:6310;;;;:::i;:::-;;;;;:::i;:::-;5082:10;;5234:81;;:::i;:::-;5347:5;;;:::i;:::-;657:6310;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;:::i;:::-;1935:10;657:6310;-1:-1:-1;;;;;657:6310:0;;1913:49;;657:6310;;1921:10;:24;1913:49;:::i;:::-;657:6310;-1:-1:-1;;;;;657:6310:0;;1972:24;657:6310;;;1972:24;657:6310;;;;;;;;;;;;;;;;;;;1035:24;657:6310;;;;;;;;;;;;;;;;;;;;;;;;2291:15;;657:6310;;-1:-1:-1;;657:6310:0;;;;;;;;;2357:8;657:6310;;;;;;;;-1:-1:-1;;;2338:58:0;;657:6310;;;;;;;;-1:-1:-1;;;;;657:6310:0;2338:58;;;;;;;;657:6310;2338:58;;;;657:6310;;;;;;;;;;;;;;;:::i;:::-;;;;2338:58;;;;;;;;;;;;;;:::i;:::-;;;;;;;657:6310;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;:::i;:::-;6816:10;657:6310;;;-1:-1:-1;;;;;657:6310:0;;;6802:10;:24;6798:96;;657:6310;;;;;;;;6903:4;657:6310;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6935:23;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;6935:23;;;;657:6310;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;;6935:23;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:0;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;6798:96;6802:10;657:6310;;6850:6;657:6310;;;;;;;;6798:96;657:6310;;;-1:-1:-1;;;657:6310:0;;;;;;;6850:6;657:6310;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;6651:10;657:6310;-1:-1:-1;;;;;657:6310:0;;6629:49;;657:6310;;6637:10;:24;6629:49;:::i;:::-;657:6310;;;6688:6;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;:::i;:::-;;;;:::i;:::-;;;;:::i;:::-;;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;5680:30;5757:82;657:6310;;;;;;;;5680:30;;:::i;:::-;657:6310;;;;:::i;:::-;;;;;:::i;:::-;5757:82;;;:::i;:::-;657:6310;;;;;;;;;;;;;5901:38;;;;;;;;;;;;5854:86;5901:38;;;657:6310;5901:38;;;;657:6310;;;5854:86;657:6310;;5882:10;;;;657:6310;;5854:86;;;:::i;:::-;;;;657:6310;;;;;5901:38;;;;;;;;;;;;;;:::i;:::-;;;;;;;657:6310;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1164:25;657:6310;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;:::i;:::-;;;;1249:38;657:6310;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:0;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:0;;-1:-1:-1;657:6310:0;;-1:-1:-1;657:6310:0;;-1:-1:-1;657:6310:0;;-1:-1:-1;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;;;:::i;:::-;2718:10;657:6310;-1:-1:-1;;;;;657:6310:0;;;2696:49;;657:6310;;2704:10;:24;2696:49;:::i;:::-;657:6310;;2801:14;;2797:287;;657:6310;;;;;;;;;;;;;;-1:-1:-1;;;;;;657:6310:0;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;3204:38:0;;657:6310;;;;;;;;3204:38;;;;;;;;3174:69;3204:38;;;;;;657:6310;;3174:69;657:6310;;3174:69;;;;;:::i;:::-;;;;657:6310;;3204:38;3174:69;3204:38;;;;;;;;;;;;;;:::i;:::-;;;;;657:6310;-1:-1:-1;;;657:6310:0;;;;;;;;2797:287;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;2852:57;;;;;;;;;;;;;;;2797:287;657:6310;;;2944:38;;;657:6310;;;;;;;2944:38;;;;;;;2996:77;2944:38;;;;;2797:287;657:6310;;;;;;3004:22;657:6310;;;;;;3030:22;3004:48;;2996:77;:::i;:::-;2797:287;;2944:38;;;;;;;;;;;;;;:::i;:::-;;;;;2852:57;;;;;;;;;;;;;:::i;:::-;;;;657:6310;;;;;;;;;;;;;;;2159:25;657:6310;2055:56;657:6310;;;;;2077:17;657:6310;;2063:10;:31;2055:56;:::i;:::-;2063:10;-1:-1:-1;;;;;657:6310:0;;2121:23;657:6310;;;2121:23;657:6310;;2063:10;657:6310;;2159:25;657:6310;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;:::o;:::-;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;657:6310:0;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;657:6310:0;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;:::o;:::-;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;657:6310:0;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;:::o;:::-;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;-1:-1:-1;657:6310:0;;;;;;:::o;3460:641::-;-1:-1:-1;657:6310:0;;;3737:8;657:6310;;;;;;;3460:641;;-1:-1:-1;;;;;657:6310:0;;;-1:-1:-1;;3460:641:0;;;;657:6310;;;;3778:21;657:6310;;1101:558:21;;;;;;;;;;;;-1:-1:-1;;1101:558:21;;;657:6310:0;1101:558:21;;;;;657:6310:0;;;;1676:22:21;;;657:6310:0;;3970:102;;;;;657:6310;;;;;;;;;;;;;;;;;;;;;;;;;3970:102;;657:6310;3970:102;;;657:6310;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;657:6310:0;;;;;;;;:::i;:::-;;;;;;;4066:4;657:6310;;;;3970:102;;;;;;;;;;3460:641;4082:12;;;3460:641;:::o;3970:102::-;657:6310;;;;;;;3970:102;;;;;657:6310;-1:-1:-1;;;657:6310:0;;;3970:102;657:6310;;;;3970:102;657:6310;;;;;;;;;;;3970:102;657:6310;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;;;;;-1:-1:-1;;;657:6310:0;;;;;;;4107:734;-1:-1:-1;;;;;657:6310:0;;;-1:-1:-1;657:6310:0;;;4199:9;657:6310;;;;;;;;;-1:-1:-1;;4107:734:0;657:6310;;;4107:734;657:6310;4225:288;;4107:734;657:6310;;;4522:6;657:6310;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;;;;;;;;;;;;;;;;;;;;;4199:9;657:6310;;;;;;4609:12;657:6310;;;;;;;;;;4608:20;4604:144;;4107:734;-1:-1:-1;;657:6310:0;;-1:-1:-1;;;4795:38:0;;657:6310;-1:-1:-1;657:6310:0;;4795:38;;-1:-1:-1;657:6310:0;;4795:38;;;;;;;;4762:72;4795:38;;;;;;;4107:734;657:6310;;4762:72;657:6310;;4762:72;;;;;:::i;:::-;;;;4107:734::o;4795:38::-;4762:72;4795:38;;;;;;;;;;;;;;;:::i;:::-;;;;;;;657:6310;;;;;;;;;4604:144;4684:6;657:6310;;;;;;;;;;;;;;4691:9;657:6310;;;;;;;;;;;;;;;4691:9;657:6310;;;;;;;;;4795:38;657:6310;;;;;4691:9;657:6310;4604:144;;;;;657:6310;-1:-1:-1;;;657:6310:0;;;4684:6;657:6310;;;;;-1:-1:-1;;;657:6310:0;;;;;;;;4225:288;4297:6;657:6310;;;;;-1:-1:-1;;657:6310:0;;;;;;;;;;;;;;;;;;;;;4278:60;657:6310;;;;4278:60;;;;;;;;;;;;;;;4225:288;657:6310;;;4373:38;;;657:6310;;4278:60;657:6310;;;;4373:38;;;;;;;;4425:77;4373:38;;;;;;4225:288;657:6310;;;;;;4433:22;657:6310;;;;;;4459:22;4433:48;;4425:77;:::i;:::-;4225:288;;4373:38;;;;;;;;;;;;;;:::i;:::-;;;;;;657:6310;;;;;;;;;4278:60;;;;;;;;;;;;;:::i;:::-;;;;657:6310;;;;;;;;;;-1:-1:-1;;;;;657:6310:0;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"acceptGovernance()":"238efcbc","banksy(address)":"ee711ed5","endorseVault(address,uint256)":"b366a35c","governance()":"5aa6e675","isRegistered(address)":"c3c5a547","latestRelease()":"7be0ca5e","latestVault(address)":"e177dc70","newExperimentalVault(address,address,address,address,string,string,uint256)":"5bd4b0f2","newRelease(address)":"33990d4b","newVault(address,address,address,string,string,uint256)":"b0b40fce","numReleases()":"56e0a94b","numTokens()":"8e499bcf","numVaults(address)":"f9c7bba5","pendingGovernance()":"f39c38a0","releases(uint256)":"b6a9f40f","setBanksy(address,bool)":"5e05f6af","setGovernance(address)":"ab033ea9","tagVault(address,string)":"60bd68f8","tags(address)":"58b8f842","tokens(uint256)":"4f64b2be","vaults(address,uint256)":"7bbfc69e"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"deployer\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"api_version\",\"type\":\"string\"}],\"name\":\"NewExperimentalVault\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"governance\",\"type\":\"address\"}],\"name\":\"NewGovernance\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"release_id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"template\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"api_version\",\"type\":\"string\"}],\"name\":\"NewRelease\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"vault_id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"api_version\",\"type\":\"string\"}],\"name\":\"NewVault\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"tag\",\"type\":\"string\"}],\"name\":\"VaultTagged\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"acceptGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"banksy\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"releaseDelta\",\"type\":\"uint256\"}],\"name\":\"endorseVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRelease\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"latestVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_governance\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"guardian\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"rewards\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"releaseDelta\",\"type\":\"uint256\"}],\"name\":\"newExperimentalVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"}],\"name\":\"newRelease\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"guardian\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"rewards\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"releaseDelta\",\"type\":\"uint256\"}],\"name\":\"newVault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"numReleases\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"numTokens\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"numVaults\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingGovernance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"releases\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tagger\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"name\":\"setBanksy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"}],\"name\":\"setGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"tag\",\"type\":\"string\"}],\"name\":\"tagVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"tags\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"tokens\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"vaults\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/core/Registry.sol\":\"Registry\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/src/core/Registry.sol\":{\"content\":\"// SPDX-License-Identifier: MIT OR AGPL-3.0\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/proxy/Clones.sol\\\";\\n\\ninterface IVaultRegistryView {\\n    function token() external view returns (address);\\n    function apiVersion() external view returns (string memory);\\n    function governance() external view returns (address);\\n}\\n\\ninterface IVaultInitialize {\\n    // Initialization (replaces Vyper initialize external)\\n    function initialize(\\n        address token,\\n        address governance,\\n        address rewards,\\n        string calldata name,\\n        string calldata symbol,\\n        address guardian,\\n        address management\\n    ) external;\\n}\\n\\ncontract Registry {\\n    // releases\\n    uint256 public numReleases;\\n    mapping(uint256 => address) public releases;\\n\\n    // token => vaults count\\n    mapping(address => uint256) public numVaults;\\n    mapping(address => mapping(uint256 => address)) public vaults; // token => id => vault\\n\\n    // tokens index\\n    mapping(uint256 => address) public tokens; // index => token\\n    uint256 public numTokens;\\n    mapping(address => bool) public isRegistered; // token => included\\n\\n    // governance (2-step)\\n    address public governance;\\n    address public pendingGovernance;\\n\\n    // tagging\\n    mapping(address => string) public tags; // vault => tag\\n    mapping(address => bool) public banksy; // tagger => allowed\\n\\n    event NewRelease(uint256 indexed release_id, address template, string api_version);\\n    event NewVault(address indexed token, uint256 indexed vault_id, address vault, string api_version);\\n    event NewExperimentalVault(address indexed token, address indexed deployer, address vault, string api_version);\\n    event NewGovernance(address governance);\\n    event VaultTagged(address vault, string tag);\\n\\n    constructor() {\\n        governance = msg.sender;\\n    }\\n\\n    // Governance\\n    function setGovernance(address _gov) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        pendingGovernance = _gov;\\n    }\\n    function acceptGovernance() external {\\n        require(msg.sender == pendingGovernance, \\\"unauthorized\\\");\\n        governance = msg.sender;\\n        emit NewGovernance(msg.sender);\\n    }\\n\\n    // Views\\n    function latestRelease() external view returns (string memory) {\\n        require(numReleases > 0, \\\"no release\\\");\\n        return IVaultRegistryView(releases[numReleases - 1]).apiVersion();\\n    }\\n    function latestVault(address token) external view returns (address) {\\n        require(numVaults[token] > 0, \\\"no vault for token\\\");\\n        return vaults[token][numVaults[token] - 1];\\n    }\\n\\n    // Release management vault version\\n    function newRelease(address vault) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        uint256 release_id = numReleases;\\n        if (release_id > 0) {\\n            string memory prev = IVaultRegistryView(releases[release_id - 1]).apiVersion();\\n            string memory next = IVaultRegistryView(vault).apiVersion();\\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \\\"same api version\\\");\\n        }\\n        releases[release_id] = vault;\\n        numReleases = release_id + 1;\\n        emit NewRelease(release_id, vault, IVaultRegistryView(vault).apiVersion());\\n    }\\n\\n    // EIP-1167 minimal proxy clone using OpenZeppelin implementation\\n    function _clone(address implementation) internal returns (address instance) {\\n        return Clones.clone(implementation);\\n    }\\n\\n    function _newProxyVault(\\n        address token,\\n        address _governance,\\n        address rewards,\\n        address guardian,\\n        string memory name,\\n        string memory symbol,\\n        uint256 releaseTarget\\n    ) internal returns (address) {\\n        address release = releases[releaseTarget];\\n        require(release != address(0), \\\"unknown release\\\");\\n        address vault = _clone(release);\\n        // Match Vyper default for management (msg.sender), which would be Registry in that context\\n        IVaultInitialize(vault).initialize(token, _governance, rewards, name, symbol, guardian, address(this));\\n        return vault;\\n    }\\n\\n    function _registerVault(address token, address vault) internal {\\n        uint256 vault_id = numVaults[token];\\n        if (vault_id > 0) {\\n            string memory prev = IVaultRegistryView(vaults[token][vault_id - 1]).apiVersion();\\n            string memory next = IVaultRegistryView(vault).apiVersion();\\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \\\"same api version\\\");\\n        }\\n        vaults[token][vault_id] = vault;\\n        numVaults[token] = vault_id + 1;\\n        if (!isRegistered[token]) {\\n            isRegistered[token] = true;\\n            tokens[numTokens] = token;\\n            numTokens += 1;\\n        }\\n        emit NewVault(token, vault_id, vault, IVaultRegistryView(vault).apiVersion());\\n    }\\n\\n    function newVault(\\n        address token,\\n        address guardian,\\n        address rewards,\\n        string calldata name,\\n        string calldata symbol,\\n        uint256 releaseDelta\\n    ) external returns (address) {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\\n        address vault = _newProxyVault(token, msg.sender, rewards, guardian, name, symbol, releaseTarget);\\n        _registerVault(token, vault);\\n        return vault;\\n    }\\n\\n    function newExperimentalVault(\\n        address token,\\n        address _governance,\\n        address guardian,\\n        address rewards,\\n        string calldata name,\\n        string calldata symbol,\\n        uint256 releaseDelta\\n    ) external returns (address) {\\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\\n        address vault = _newProxyVault(token, _governance, rewards, guardian, name, symbol, releaseTarget);\\n        emit NewExperimentalVault(token, msg.sender, vault, IVaultRegistryView(vault).apiVersion());\\n        return vault;\\n    }\\n\\n    function endorseVault(address vault, uint256 releaseDelta) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        require(IVaultRegistryView(vault).governance() == msg.sender, \\\"not governed\\\");\\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\\n        string memory api = IVaultRegistryView(releases[releaseTarget]).apiVersion();\\n        require(keccak256(bytes(IVaultRegistryView(vault).apiVersion())) == keccak256(bytes(api)), \\\"not target release\\\");\\n        _registerVault(IVaultRegistryView(vault).token(), vault);\\n    }\\n\\n    function setBanksy(address tagger, bool allowed) external {\\n        require(msg.sender == governance, \\\"unauthorized\\\");\\n        banksy[tagger] = allowed;\\n    }\\n\\n    function tagVault(address vault, string calldata tag) external {\\n        if (msg.sender != governance) {\\n            require(banksy[msg.sender], \\\"not banksy\\\");\\n        }\\n        tags[vault] = tag;\\n        emit VaultTagged(vault, tag);\\n    }\\n}\\n\\n\\n\",\"keccak256\":\"0x8fbbfe415e48db5e2e668fa7100ab846e46daca0a04c883bb5978eda8f4916de\",\"license\":\"MIT OR AGPL-3.0\"},\"lib/openzeppelin-contracts/contracts/proxy/Clones.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (proxy/Clones.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev https://eips.ethereum.org/EIPS/eip-1167[EIP 1167] is a standard for\\n * deploying minimal proxy contracts, also known as \\\"clones\\\".\\n *\\n * > To simply and cheaply clone contract functionality in an immutable way, this standard specifies\\n * > a minimal bytecode implementation that delegates all calls to a known, fixed address.\\n *\\n * The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2`\\n * (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the\\n * deterministic method.\\n *\\n * _Available since v3.4._\\n */\\nlibrary Clones {\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create opcode, which should never revert.\\n     */\\n    function clone(address implementation) internal returns (address instance) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\\n            // of the `implementation` address with the bytecode before the address.\\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\\n            instance := create(0, 0x09, 0x37)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create failed\\\");\\n    }\\n\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create2 opcode and a `salt` to deterministically deploy\\n     * the clone. Using the same `implementation` and `salt` multiple time will revert, since\\n     * the clones cannot be deployed twice at the same address.\\n     */\\n    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\\n            // of the `implementation` address with the bytecode before the address.\\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\\n            instance := create2(0, 0x09, 0x37, salt)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create2 failed\\\");\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(\\n        address implementation,\\n        bytes32 salt,\\n        address deployer\\n    ) internal pure returns (address predicted) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(add(ptr, 0x38), deployer)\\n            mstore(add(ptr, 0x24), 0x5af43d82803e903d91602b57fd5bf3ff)\\n            mstore(add(ptr, 0x14), implementation)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73)\\n            mstore(add(ptr, 0x58), salt)\\n            mstore(add(ptr, 0x78), keccak256(add(ptr, 0x0c), 0x37))\\n            predicted := keccak256(add(ptr, 0x43), 0x55)\\n        }\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(\\n        address implementation,\\n        bytes32 salt\\n    ) internal view returns (address predicted) {\\n        return predictDeterministicAddress(implementation, salt, address(this));\\n    }\\n}\\n\",\"keccak256\":\"0x01f055f5c26ba25d7f83e9aa9ba877fbea4d0bf22227de046ea67494bc932999\",\"license\":\"MIT\"}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"address","name":"deployer","type":"address","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"string","name":"api_version","type":"string","indexed":false}],"type":"event","name":"NewExperimentalVault","anonymous":false},{"inputs":[{"internalType":"address","name":"governance","type":"address","indexed":false}],"type":"event","name":"NewGovernance","anonymous":false},{"inputs":[{"internalType":"uint256","name":"release_id","type":"uint256","indexed":true},{"internalType":"address","name":"template","type":"address","indexed":false},{"internalType":"string","name":"api_version","type":"string","indexed":false}],"type":"event","name":"NewRelease","anonymous":false},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"uint256","name":"vault_id","type":"uint256","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"string","name":"api_version","type":"string","indexed":false}],"type":"event","name":"NewVault","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"string","name":"tag","type":"string","indexed":false}],"type":"event","name":"VaultTagged","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"acceptGovernance"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"banksy","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"uint256","name":"releaseDelta","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"endorseVault"},{"inputs":[],"stateMutability":"view","type":"function","name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"latestRelease","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"stateMutability":"view","type":"function","name":"latestVault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"_governance","type":"address"},{"internalType":"address","name":"guardian","type":"address"},{"internalType":"address","name":"rewards","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"releaseDelta","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"newExperimentalVault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"vault","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"newRelease"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"guardian","type":"address"},{"internalType":"address","name":"rewards","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"releaseDelta","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"newVault","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"numReleases","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"numTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"numVaults","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pendingGovernance","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"releases","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"tagger","type":"address"},{"internalType":"bool","name":"allowed","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setBanksy"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setGovernance"},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"string","name":"tag","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"tagVault"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"tags","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"tokens","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"vaults","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"useLiteralContent":true,"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/src/core/Registry.sol":"Registry"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"contracts/src/core/Registry.sol":{"keccak256":"0x8fbbfe415e48db5e2e668fa7100ab846e46daca0a04c883bb5978eda8f4916de","urls":[],"content":"// SPDX-License-Identifier: MIT OR AGPL-3.0\npragma solidity ^0.8.20;\n\nimport \"@openzeppelin/contracts/proxy/Clones.sol\";\n\ninterface IVaultRegistryView {\n    function token() external view returns (address);\n    function apiVersion() external view returns (string memory);\n    function governance() external view returns (address);\n}\n\ninterface IVaultInitialize {\n    // Initialization (replaces Vyper initialize external)\n    function initialize(\n        address token,\n        address governance,\n        address rewards,\n        string calldata name,\n        string calldata symbol,\n        address guardian,\n        address management\n    ) external;\n}\n\ncontract Registry {\n    // releases\n    uint256 public numReleases;\n    mapping(uint256 => address) public releases;\n\n    // token => vaults count\n    mapping(address => uint256) public numVaults;\n    mapping(address => mapping(uint256 => address)) public vaults; // token => id => vault\n\n    // tokens index\n    mapping(uint256 => address) public tokens; // index => token\n    uint256 public numTokens;\n    mapping(address => bool) public isRegistered; // token => included\n\n    // governance (2-step)\n    address public governance;\n    address public pendingGovernance;\n\n    // tagging\n    mapping(address => string) public tags; // vault => tag\n    mapping(address => bool) public banksy; // tagger => allowed\n\n    event NewRelease(uint256 indexed release_id, address template, string api_version);\n    event NewVault(address indexed token, uint256 indexed vault_id, address vault, string api_version);\n    event NewExperimentalVault(address indexed token, address indexed deployer, address vault, string api_version);\n    event NewGovernance(address governance);\n    event VaultTagged(address vault, string tag);\n\n    constructor() {\n        governance = msg.sender;\n    }\n\n    // Governance\n    function setGovernance(address _gov) external {\n        require(msg.sender == governance, \"unauthorized\");\n        pendingGovernance = _gov;\n    }\n    function acceptGovernance() external {\n        require(msg.sender == pendingGovernance, \"unauthorized\");\n        governance = msg.sender;\n        emit NewGovernance(msg.sender);\n    }\n\n    // Views\n    function latestRelease() external view returns (string memory) {\n        require(numReleases > 0, \"no release\");\n        return IVaultRegistryView(releases[numReleases - 1]).apiVersion();\n    }\n    function latestVault(address token) external view returns (address) {\n        require(numVaults[token] > 0, \"no vault for token\");\n        return vaults[token][numVaults[token] - 1];\n    }\n\n    // Release management vault version\n    function newRelease(address vault) external {\n        require(msg.sender == governance, \"unauthorized\");\n        uint256 release_id = numReleases;\n        if (release_id > 0) {\n            string memory prev = IVaultRegistryView(releases[release_id - 1]).apiVersion();\n            string memory next = IVaultRegistryView(vault).apiVersion();\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \"same api version\");\n        }\n        releases[release_id] = vault;\n        numReleases = release_id + 1;\n        emit NewRelease(release_id, vault, IVaultRegistryView(vault).apiVersion());\n    }\n\n    // EIP-1167 minimal proxy clone using OpenZeppelin implementation\n    function _clone(address implementation) internal returns (address instance) {\n        return Clones.clone(implementation);\n    }\n\n    function _newProxyVault(\n        address token,\n        address _governance,\n        address rewards,\n        address guardian,\n        string memory name,\n        string memory symbol,\n        uint256 releaseTarget\n    ) internal returns (address) {\n        address release = releases[releaseTarget];\n        require(release != address(0), \"unknown release\");\n        address vault = _clone(release);\n        // Match Vyper default for management (msg.sender), which would be Registry in that context\n        IVaultInitialize(vault).initialize(token, _governance, rewards, name, symbol, guardian, address(this));\n        return vault;\n    }\n\n    function _registerVault(address token, address vault) internal {\n        uint256 vault_id = numVaults[token];\n        if (vault_id > 0) {\n            string memory prev = IVaultRegistryView(vaults[token][vault_id - 1]).apiVersion();\n            string memory next = IVaultRegistryView(vault).apiVersion();\n            require(keccak256(bytes(prev)) != keccak256(bytes(next)), \"same api version\");\n        }\n        vaults[token][vault_id] = vault;\n        numVaults[token] = vault_id + 1;\n        if (!isRegistered[token]) {\n            isRegistered[token] = true;\n            tokens[numTokens] = token;\n            numTokens += 1;\n        }\n        emit NewVault(token, vault_id, vault, IVaultRegistryView(vault).apiVersion());\n    }\n\n    function newVault(\n        address token,\n        address guardian,\n        address rewards,\n        string calldata name,\n        string calldata symbol,\n        uint256 releaseDelta\n    ) external returns (address) {\n        require(msg.sender == governance, \"unauthorized\");\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\n        address vault = _newProxyVault(token, msg.sender, rewards, guardian, name, symbol, releaseTarget);\n        _registerVault(token, vault);\n        return vault;\n    }\n\n    function newExperimentalVault(\n        address token,\n        address _governance,\n        address guardian,\n        address rewards,\n        string calldata name,\n        string calldata symbol,\n        uint256 releaseDelta\n    ) external returns (address) {\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\n        address vault = _newProxyVault(token, _governance, rewards, guardian, name, symbol, releaseTarget);\n        emit NewExperimentalVault(token, msg.sender, vault, IVaultRegistryView(vault).apiVersion());\n        return vault;\n    }\n\n    function endorseVault(address vault, uint256 releaseDelta) external {\n        require(msg.sender == governance, \"unauthorized\");\n        require(IVaultRegistryView(vault).governance() == msg.sender, \"not governed\");\n        uint256 releaseTarget = numReleases - 1 - releaseDelta; // underflow if none\n        string memory api = IVaultRegistryView(releases[releaseTarget]).apiVersion();\n        require(keccak256(bytes(IVaultRegistryView(vault).apiVersion())) == keccak256(bytes(api)), \"not target release\");\n        _registerVault(IVaultRegistryView(vault).token(), vault);\n    }\n\n    function setBanksy(address tagger, bool allowed) external {\n        require(msg.sender == governance, \"unauthorized\");\n        banksy[tagger] = allowed;\n    }\n\n    function tagVault(address vault, string calldata tag) external {\n        if (msg.sender != governance) {\n            require(banksy[msg.sender], \"not banksy\");\n        }\n        tags[vault] = tag;\n        emit VaultTagged(vault, tag);\n    }\n}\n\n\n","license":"MIT OR AGPL-3.0"},"lib/openzeppelin-contracts/contracts/proxy/Clones.sol":{"keccak256":"0x01f055f5c26ba25d7f83e9aa9ba877fbea4d0bf22227de046ea67494bc932999","urls":[],"content":"// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v4.9.0) (proxy/Clones.sol)\n\npragma solidity ^0.8.0;\n\n/**\n * @dev https://eips.ethereum.org/EIPS/eip-1167[EIP 1167] is a standard for\n * deploying minimal proxy contracts, also known as \"clones\".\n *\n * > To simply and cheaply clone contract functionality in an immutable way, this standard specifies\n * > a minimal bytecode implementation that delegates all calls to a known, fixed address.\n *\n * The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2`\n * (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the\n * deterministic method.\n *\n * _Available since v3.4._\n */\nlibrary Clones {\n    /**\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\n     *\n     * This function uses the create opcode, which should never revert.\n     */\n    function clone(address implementation) internal returns (address instance) {\n        /// @solidity memory-safe-assembly\n        assembly {\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\n            // of the `implementation` address with the bytecode before the address.\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\n            instance := create(0, 0x09, 0x37)\n        }\n        require(instance != address(0), \"ERC1167: create failed\");\n    }\n\n    /**\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\n     *\n     * This function uses the create2 opcode and a `salt` to deterministically deploy\n     * the clone. Using the same `implementation` and `salt` multiple time will revert, since\n     * the clones cannot be deployed twice at the same address.\n     */\n    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {\n        /// @solidity memory-safe-assembly\n        assembly {\n            // Cleans the upper 96 bits of the `implementation` word, then packs the first 3 bytes\n            // of the `implementation` address with the bytecode before the address.\n            mstore(0x00, or(shr(0xe8, shl(0x60, implementation)), 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000))\n            // Packs the remaining 17 bytes of `implementation` with the bytecode after the address.\n            mstore(0x20, or(shl(0x78, implementation), 0x5af43d82803e903d91602b57fd5bf3))\n            instance := create2(0, 0x09, 0x37, salt)\n        }\n        require(instance != address(0), \"ERC1167: create2 failed\");\n    }\n\n    /**\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\n     */\n    function predictDeterministicAddress(\n        address implementation,\n        bytes32 salt,\n        address deployer\n    ) internal pure returns (address predicted) {\n        /// @solidity memory-safe-assembly\n        assembly {\n            let ptr := mload(0x40)\n            mstore(add(ptr, 0x38), deployer)\n            mstore(add(ptr, 0x24), 0x5af43d82803e903d91602b57fd5bf3ff)\n            mstore(add(ptr, 0x14), implementation)\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73)\n            mstore(add(ptr, 0x58), salt)\n            mstore(add(ptr, 0x78), keccak256(add(ptr, 0x0c), 0x37))\n            predicted := keccak256(add(ptr, 0x43), 0x55)\n        }\n    }\n\n    /**\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\n     */\n    function predictDeterministicAddress(\n        address implementation,\n        bytes32 salt\n    ) internal view returns (address predicted) {\n        return predictDeterministicAddress(implementation, salt, address(this));\n    }\n}\n","license":"MIT"}},"version":1},"id":0}