{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"acceptGovernance","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"authorizedAddresses","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"baseFeeProvider","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"governance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isCurrentBaseFeeAcceptable","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"manualBaseFeeBool","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"maxAcceptableBaseFee","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"pendingGovernance","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"setAuthorized","inputs":[{"name":"_target","type":"address","internalType":"address"},{"name":"_value","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setBaseFeeProvider","inputs":[{"name":"_baseFeeProvider","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setManualBaseFeeBool","inputs":[{"name":"_manualBaseFeeBool","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setMaxAcceptableBaseFee","inputs":[{"name":"_maxAcceptableBaseFee","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPendingGovernance","inputs":[{"name":"_governance","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"NewGovernance","inputs":[{"name":"governance","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"NewProvider","inputs":[{"name":"provider","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UpdatedAuthorization","inputs":[{"name":"target","type":"address","indexed":true,"internalType":"address"},{"name":"authorized","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"UpdatedManualBaseFee","inputs":[{"name":"manualFee","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"UpdatedMaxBaseFee","inputs":[{"name":"baseFee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x60808060405234603457600280546001600160a01b031916331790556005805460ff191660011790556105ad90816100398239f35b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c80630abb6035146103b3578063238efcbc14610353578063244edd79146102ee57806334a9e75c146102ca5780633909e1ae1461026857806347003cb7146102415780634f62fb861461021f5780635aa6e675146101f7578063711bf9b21461017a578063bf95ab491461015d578063e10efcdd14610111578063f19e207e146100d45763f39c38a0146100a8575f80fd5b346100d0575f3660031901126100d0576003546040516001600160a01b039091168152602090f35b5f80fd5b346100d05760203660031901126100d0576001600160a01b036100f56103f6565b165f526004602052602060ff60405f2054166040519015158152f35b346100d05760203660031901126100d0577f7dcfcc373856c123e2e781d90a483279c6f026653a768c30832d6dc9f749a4af602060043561015061053c565b80600155604051908152a1005b346100d0575f3660031901126100d0576020600154604051908152f35b346100d05760403660031901126100d0576101936103f6565b602435908115158092036100d05760207f8d6437292b994fc738dc2a2d36adca80c5c3516dde0ca63fedcbb70101b21a31916101cd6104f5565b60018060a01b031692835f526004825260405f2060ff1981541660ff8316179055604051908152a2005b346100d0575f3660031901126100d0576002546040516001600160a01b039091168152602090f35b346100d0575f3660031901126100d057602060ff600554166040519015158152f35b346100d0575f3660031901126100d0575f546040516001600160a01b039091168152602090f35b346100d05760203660031901126100d0576004358015158091036100d05760207f182fa601a3bf72179118750b74939977b97571ddef8172b735bca99e693feca6916102b261053c565b60ff196005541660ff821617600555604051908152a1005b346100d0575f3660031901126100d05760206102e4610446565b6040519015158152f35b346100d05760203660031901126100d0576103076103f6565b61030f6104f5565b5f80546001600160a01b0319166001600160a01b039290921691821781557f3ac461748dd21b3c9c3faa9c85712c1a04cd3eebcfee2a026acaaa82b1094ec09080a2005b346100d0575f3660031901126100d05761037860018060a01b0360035416331461040c565b600280546001600160a01b031916339081179091557f4f386975ea1c2f7cf1845b08bee00626fbb624ecad16254d63d9bb9ba86526de5f80a2005b346100d05760203660031901126100d0576103cc6103f6565b6103d46104f5565b600380546001600160a01b0319166001600160a01b0392909216919091179055005b600435906001600160a01b03821682036100d057565b1561041357565b60405162461bcd60e51b815260206004820152600b60248201526a08585d5d1a1bdc9a5e995960aa1b6044820152606490fd5b5f546001600160a01b031680610460575060ff6005541690565b60206004916040519283809263250db73960e21b82525afa9081156104ea575f9161048f575b50600154101590565b905060203d6020116104e3575b601f8101601f191682016001600160401b038111838210176104cf576020918391604052810103126100d057515f610486565b634e487b7160e01b5f52604160045260245ffd5b503d61049c565b6040513d5f823e3d90fd5b6002546001600160a01b0316330361050957565b60405162461bcd60e51b815260206004820152600b60248201526a21676f7665726e616e636560a81b6044820152606490fd5b335f526004602052600160ff60405f2054161515148015610563575b6105619061040c565b565b506002546001600160a01b0316331461055856fea264697066735822122061bc358f1c8dfcbad6e86ce44f2b44715a78a29b72ceb9039850b4da441c7f8664736f6c634300081e0033","sourceMap":"300:4416:1:-:0;;;;;;;1029:23;300:4416;;-1:-1:-1;;;;;;300:4416:1;1042:10;300:4416;;;1118:24;300:4416;;-1:-1:-1;;300:4416:1;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f3560e01c80630abb6035146103b3578063238efcbc14610353578063244edd79146102ee57806334a9e75c146102ca5780633909e1ae1461026857806347003cb7146102415780634f62fb861461021f5780635aa6e675146101f7578063711bf9b21461017a578063bf95ab491461015d578063e10efcdd14610111578063f19e207e146100d45763f39c38a0146100a8575f80fd5b346100d0575f3660031901126100d0576003546040516001600160a01b039091168152602090f35b5f80fd5b346100d05760203660031901126100d0576001600160a01b036100f56103f6565b165f526004602052602060ff60405f2054166040519015158152f35b346100d05760203660031901126100d0577f7dcfcc373856c123e2e781d90a483279c6f026653a768c30832d6dc9f749a4af602060043561015061053c565b80600155604051908152a1005b346100d0575f3660031901126100d0576020600154604051908152f35b346100d05760403660031901126100d0576101936103f6565b602435908115158092036100d05760207f8d6437292b994fc738dc2a2d36adca80c5c3516dde0ca63fedcbb70101b21a31916101cd6104f5565b60018060a01b031692835f526004825260405f2060ff1981541660ff8316179055604051908152a2005b346100d0575f3660031901126100d0576002546040516001600160a01b039091168152602090f35b346100d0575f3660031901126100d057602060ff600554166040519015158152f35b346100d0575f3660031901126100d0575f546040516001600160a01b039091168152602090f35b346100d05760203660031901126100d0576004358015158091036100d05760207f182fa601a3bf72179118750b74939977b97571ddef8172b735bca99e693feca6916102b261053c565b60ff196005541660ff821617600555604051908152a1005b346100d0575f3660031901126100d05760206102e4610446565b6040519015158152f35b346100d05760203660031901126100d0576103076103f6565b61030f6104f5565b5f80546001600160a01b0319166001600160a01b039290921691821781557f3ac461748dd21b3c9c3faa9c85712c1a04cd3eebcfee2a026acaaa82b1094ec09080a2005b346100d0575f3660031901126100d05761037860018060a01b0360035416331461040c565b600280546001600160a01b031916339081179091557f4f386975ea1c2f7cf1845b08bee00626fbb624ecad16254d63d9bb9ba86526de5f80a2005b346100d05760203660031901126100d0576103cc6103f6565b6103d46104f5565b600380546001600160a01b0319166001600160a01b0392909216919091179055005b600435906001600160a01b03821682036100d057565b1561041357565b60405162461bcd60e51b815260206004820152600b60248201526a08585d5d1a1bdc9a5e995960aa1b6044820152606490fd5b5f546001600160a01b031680610460575060ff6005541690565b60206004916040519283809263250db73960e21b82525afa9081156104ea575f9161048f575b50600154101590565b905060203d6020116104e3575b601f8101601f191682016001600160401b038111838210176104cf576020918391604052810103126100d057515f610486565b634e487b7160e01b5f52604160045260245ffd5b503d61049c565b6040513d5f823e3d90fd5b6002546001600160a01b0316330361050957565b60405162461bcd60e51b815260206004820152600b60248201526a21676f7665726e616e636560a81b6044820152606490fd5b335f526004602052600160ff60405f2054161515148015610563575b6105619061040c565b565b506002546001600160a01b0316331461055856fea264697066735822122061bc358f1c8dfcbad6e86ce44f2b44715a78a29b72ceb9039850b4da441c7f8664736f6c634300081e0033","sourceMap":"300:4416:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;645:32;300:4416;;;-1:-1:-1;;;;;300:4416:1;;;;;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;-1:-1:-1;;;;;300:4416:1;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;2297:40;300:4416;;;2128:216;;:::i;:::-;300:4416;;;;;;;;2297:40;300:4416;;;;;;;-1:-1:-1;;300:4416:1;;;;;453:35;300:4416;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;;;:::i;:::-;;;;;;;;;;;;;3287:37;3136:195;;;:::i;:::-;300:4416;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3287:37;300:4416;;;;;;;-1:-1:-1;;300:4416:1;;;;549:25;300:4416;;;-1:-1:-1;;;;;300:4416:1;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;;;890:29;300:4416;;;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;;;;;-1:-1:-1;;;;;300:4416:1;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;;;;;;;;;;;;2807:40;2653:201;;;:::i;:::-;300:4416;;2754:38;300:4416;;;;;;2754:38;300:4416;;;;;;2807:40;300:4416;;;;;;;-1:-1:-1;;300:4416:1;;;;;;;:::i;:::-;;;;;;;;;;;;;;;-1:-1:-1;;300:4416:1;;;;;;:::i;:::-;4262:185;;:::i;:::-;300:4416;;;-1:-1:-1;;;;;;300:4416:1;-1:-1:-1;;;;;300:4416:1;;;;;;;;;4411:29;;300:4416;4411:29;300:4416;;;;;;;-1:-1:-1;;300:4416:1;;;;3901:55;300:4416;;;;;3923:17;300:4416;;3909:10;:31;3901:55;:::i;:::-;3966:23;300:4416;;-1:-1:-1;;;;;;300:4416:1;3909:10;300:4416;;;;;;4004:25;-1:-1:-1;;4004:25:1;300:4416;;;;;;;-1:-1:-1;;300:4416:1;;;;;;:::i;:::-;3531:135;;:::i;:::-;3628:31;300:4416;;-1:-1:-1;;;;;;300:4416:1;-1:-1:-1;;;;;300:4416:1;;;;;;;;;;;;;;;-1:-1:-1;;;;;300:4416:1;;;;;;:::o;:::-;;;;:::o;:::-;;;-1:-1:-1;;;300:4416:1;;;;;;;;;;;;-1:-1:-1;;;300:4416:1;;;;;;;1563:308;300:4416;;-1:-1:-1;;;;;300:4416:1;1642:29;300:4416;;;;1694:17;300:4416;;1687:24;:::o;1638:227::-;1760:42;;300:4416;;;;;;;;;;1760:42;;;;;;;;;300:4416;1760:42;;;1638:227;300:4416;1834:20;300:4416;-1:-1:-1;1823:31:1;1816:38;:::o;1760:42::-;;;;;;;;;;300:4416;;;-1:-1:-1;;300:4416:1;;;-1:-1:-1;;;;;300:4416:1;;;;;;;;1760:42;300:4416;;;;;1760:42;;300:4416;;;;;1760:42;;;300:4416;;;;;;;1760:42;300:4416;;;;1760:42;;;;;;300:4416;;;;;;;;;4608:106;4681:10;300:4416;-1:-1:-1;;;;;300:4416:1;4667:10;:24;300:4416;;4608:106::o;300:4416::-;;;-1:-1:-1;;;300:4416:1;;;;;;;;;;;;-1:-1:-1;;;300:4416:1;;;;;;;4453:149;4532:10;-1:-1:-1;300:4416:1;4512:19;300:4416;;4547:4;300:4416;;-1:-1:-1;300:4416:1;;;;;4512:39;:67;;;;4453:149;4504:91;;;:::i;:::-;4453:149::o;4512:67::-;-1:-1:-1;4569:10:1;300:4416;-1:-1:-1;;;;;300:4416:1;4532:10;4555:24;4512:67;","linkReferences":{}},"methodIdentifiers":{"acceptGovernance()":"238efcbc","authorizedAddresses(address)":"f19e207e","baseFeeProvider()":"47003cb7","governance()":"5aa6e675","isCurrentBaseFeeAcceptable()":"34a9e75c","manualBaseFeeBool()":"4f62fb86","maxAcceptableBaseFee()":"bf95ab49","pendingGovernance()":"f39c38a0","setAuthorized(address,bool)":"711bf9b2","setBaseFeeProvider(address)":"244edd79","setManualBaseFeeBool(bool)":"3909e1ae","setMaxAcceptableBaseFee(uint256)":"e10efcdd","setPendingGovernance(address)":"0abb6035"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"governance\",\"type\":\"address\"}],\"name\":\"NewGovernance\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"NewProvider\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"authorized\",\"type\":\"bool\"}],\"name\":\"UpdatedAuthorization\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"manualFee\",\"type\":\"bool\"}],\"name\":\"UpdatedManualBaseFee\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseFee\",\"type\":\"uint256\"}],\"name\":\"UpdatedMaxBaseFee\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"acceptGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"authorizedAddresses\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"baseFeeProvider\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isCurrentBaseFeeAcceptable\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"manualBaseFeeBool\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"maxAcceptableBaseFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingGovernance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_target\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_value\",\"type\":\"bool\"}],\"name\":\"setAuthorized\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_baseFeeProvider\",\"type\":\"address\"}],\"name\":\"setBaseFeeProvider\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_manualBaseFeeBool\",\"type\":\"bool\"}],\"name\":\"setManualBaseFeeBool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_maxAcceptableBaseFee\",\"type\":\"uint256\"}],\"name\":\"setMaxAcceptableBaseFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_governance\",\"type\":\"address\"}],\"name\":\"setPendingGovernance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Interprets the base fee from our base fee provider  contract to determine if a harvest is permissable. Version 0.1.0\",\"kind\":\"dev\",\"methods\":{\"acceptGovernance()\":{\"details\":\"Throws if the caller is not the pending caller.  Emits a `NewGovernance` event.\"},\"setAuthorized(address,bool)\":{\"details\":\"Throws if the caller is not current governance.\",\"params\":{\"_target\":\"The address to add/remove authorization for.\",\"_value\":\"Boolean to grant or revoke access.\"}},\"setBaseFeeProvider(address)\":{\"details\":\"Throws if the caller is not current governance.\",\"params\":{\"_baseFeeProvider\":\"The network's baseFeeProvider address\"}},\"setManualBaseFeeBool(bool)\":{\"details\":\"Throws if the caller is not authorized or gov.\",\"params\":{\"_manualBaseFeeBool\":\"Boolean to allow/block harvests if we don't  have a provider set up.\"}},\"setMaxAcceptableBaseFee(uint256)\":{\"details\":\"Throws if the caller is not authorized or gov.\",\"params\":{\"_maxAcceptableBaseFee\":\"The acceptable maximum price to pay in wei.\"}},\"setPendingGovernance(address)\":{\"details\":\"Throws if the caller is not current governance.\",\"params\":{\"_governance\":\"The next governance address\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"acceptGovernance()\":{\"notice\":\"Completes the 2nd phase of the governance transfer.\"},\"authorizedAddresses(address)\":{\"notice\":\"New address must be set by current gov and then accept to transfer power.\"},\"constructor\":{\"notice\":\"Use this if our network hasn't implemented the base fee method yet\"},\"governance()\":{\"notice\":\"Max acceptable base fee for the operation\"},\"isCurrentBaseFeeAcceptable()\":{\"notice\":\"Returns whether we should allow harvests based on current base fee.\"},\"manualBaseFeeBool()\":{\"notice\":\"Addresses that can set the max acceptable base fee\"},\"maxAcceptableBaseFee()\":{\"notice\":\"Provider to read current block's base fee. This will vary based on network.\"},\"pendingGovernance()\":{\"notice\":\"Governance can grant and revoke access to the setter\"},\"setAuthorized(address,bool)\":{\"notice\":\"Controls whether a non-gov address can adjust certain params.\"},\"setBaseFeeProvider(address)\":{\"notice\":\"Sets the address used to pull the current network base fee.\"},\"setManualBaseFeeBool(bool)\":{\"notice\":\"If we don't have a provider, then manually determine if true or not.  Useful in testing as well.\"},\"setMaxAcceptableBaseFee(uint256)\":{\"notice\":\"Set the maximum base fee we want for our keepers to accept.  Gwei is 1e9.\"},\"setPendingGovernance(address)\":{\"notice\":\"Starts the 1st phase of the governance transfer.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/CommonFeeOracle.sol\":\"BaseFeeOracle\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/src/CommonFeeOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT OR AGPL-3.0\\npragma solidity ^0.8.20;\\n\\ninterface IBaseFee {\\n    function basefee_global() external view returns (uint256);\\n}\\n\\n/**\\n * @dev Interprets the base fee from our base fee provider\\n *  contract to determine if a harvest is permissable.\\n *\\n * Version 0.1.0\\n */\\n\\ncontract BaseFeeOracle {\\n    address public baseFeeProvider; /// @notice Provider to read current block's base fee. This will vary based on network.\\n    uint256 public maxAcceptableBaseFee; /// @notice Max acceptable base fee for the operation\\n\\n    address public governance; /// @notice Governance can grant and revoke access to the setter\\n    address public pendingGovernance; /// @notice New address must be set by current gov and then accept to transfer power.\\n    mapping(address => bool) public authorizedAddresses; /// @notice Addresses that can set the max acceptable base fee\\n\\n    bool public manualBaseFeeBool; /// @notice Use this if our network hasn't implemented the base fee method yet\\n\\n    constructor() {\\n        governance = msg.sender; // our deployer should be gov, they can set up the rest\\n        manualBaseFeeBool = true; // start as permissive\\n    }\\n\\n    // events for subgraph\\n    event NewGovernance(address indexed governance);\\n\\n    event NewProvider(address indexed provider);\\n\\n    event UpdatedMaxBaseFee(uint256 baseFee);\\n\\n    event UpdatedManualBaseFee(bool manualFee);\\n\\n    event UpdatedAuthorization(address indexed target, bool authorized);\\n\\n    /// @notice Returns whether we should allow harvests based on current base fee.\\n    function isCurrentBaseFeeAcceptable() public view returns (bool) {\\n        if (baseFeeProvider == address(0)) {\\n            return manualBaseFeeBool;\\n        } else {\\n            uint256 baseFee = IBaseFee(baseFeeProvider).basefee_global();\\n            return baseFee <= maxAcceptableBaseFee;\\n        }\\n    }\\n\\n    /**\\n     * @notice Set the maximum base fee we want for our keepers to accept.\\n     *  Gwei is 1e9.\\n     * @dev Throws if the caller is not authorized or gov.\\n     * @param _maxAcceptableBaseFee The acceptable maximum price to pay in wei.\\n     */\\n    function setMaxAcceptableBaseFee(uint256 _maxAcceptableBaseFee) external {\\n        _onlyAuthorized();\\n        maxAcceptableBaseFee = _maxAcceptableBaseFee;\\n        emit UpdatedMaxBaseFee(_maxAcceptableBaseFee);\\n    }\\n\\n    /**\\n     * @notice If we don't have a provider, then manually determine if true or not.\\n     *  Useful in testing as well.\\n     * @dev Throws if the caller is not authorized or gov.\\n     * @param _manualBaseFeeBool Boolean to allow/block harvests if we don't\\n     *  have a provider set up.\\n     */\\n    function setManualBaseFeeBool(bool _manualBaseFeeBool) external {\\n        _onlyAuthorized();\\n        manualBaseFeeBool = _manualBaseFeeBool;\\n        emit UpdatedManualBaseFee(_manualBaseFeeBool);\\n    }\\n\\n    /**\\n     * @notice Controls whether a non-gov address can adjust certain params.\\n     * @dev Throws if the caller is not current governance.\\n     * @param _target The address to add/remove authorization for.\\n     * @param _value Boolean to grant or revoke access.\\n     */\\n    function setAuthorized(address _target, bool _value) external {\\n        _onlyGovernance();\\n        authorizedAddresses[_target] = _value;\\n        emit UpdatedAuthorization(_target, _value);\\n    }\\n\\n    /**\\n     * @notice Starts the 1st phase of the governance transfer.\\n     * @dev Throws if the caller is not current governance.\\n     * @param _governance The next governance address\\n     */\\n    function setPendingGovernance(address _governance) external {\\n        _onlyGovernance();\\n        pendingGovernance = _governance;\\n    }\\n\\n    /**\\n     * @notice Completes the 2nd phase of the governance transfer.\\n     * @dev Throws if the caller is not the pending caller.\\n     *  Emits a `NewGovernance` event.\\n     */\\n    function acceptGovernance() external {\\n        require(msg.sender == pendingGovernance, \\\"!authorized\\\");\\n        governance = msg.sender;\\n        emit NewGovernance(msg.sender);\\n    }\\n\\n    /**\\n     * @notice Sets the address used to pull the current network base fee.\\n     * @dev Throws if the caller is not current governance.\\n     * @param _baseFeeProvider The network's baseFeeProvider address\\n     */\\n    function setBaseFeeProvider(address _baseFeeProvider) external {\\n        _onlyGovernance();\\n        baseFeeProvider = _baseFeeProvider;\\n        emit NewProvider(_baseFeeProvider);\\n    }\\n\\n    function _onlyAuthorized() internal view {\\n        require(authorizedAddresses[msg.sender] == true || msg.sender == governance, \\\"!authorized\\\");\\n    }\\n\\n    function _onlyGovernance() internal view {\\n        require(msg.sender == governance, \\\"!governance\\\");\\n    }\\n}\\n\",\"keccak256\":\"0x768fe9f7dc8f525022128a48c663c6ad6742be2a77c3f745525d42b49cc19592\",\"license\":\"MIT OR AGPL-3.0\"}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"governance","type":"address","indexed":true}],"type":"event","name":"NewGovernance","anonymous":false},{"inputs":[{"internalType":"address","name":"provider","type":"address","indexed":true}],"type":"event","name":"NewProvider","anonymous":false},{"inputs":[{"internalType":"address","name":"target","type":"address","indexed":true},{"internalType":"bool","name":"authorized","type":"bool","indexed":false}],"type":"event","name":"UpdatedAuthorization","anonymous":false},{"inputs":[{"internalType":"bool","name":"manualFee","type":"bool","indexed":false}],"type":"event","name":"UpdatedManualBaseFee","anonymous":false},{"inputs":[{"internalType":"uint256","name":"baseFee","type":"uint256","indexed":false}],"type":"event","name":"UpdatedMaxBaseFee","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"acceptGovernance"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"authorizedAddresses","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"baseFeeProvider","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isCurrentBaseFeeAcceptable","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"manualBaseFeeBool","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"maxAcceptableBaseFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pendingGovernance","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_target","type":"address"},{"internalType":"bool","name":"_value","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setAuthorized"},{"inputs":[{"internalType":"address","name":"_baseFeeProvider","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setBaseFeeProvider"},{"inputs":[{"internalType":"bool","name":"_manualBaseFeeBool","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setManualBaseFeeBool"},{"inputs":[{"internalType":"uint256","name":"_maxAcceptableBaseFee","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setMaxAcceptableBaseFee"},{"inputs":[{"internalType":"address","name":"_governance","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setPendingGovernance"}],"devdoc":{"kind":"dev","methods":{"acceptGovernance()":{"details":"Throws if the caller is not the pending caller.  Emits a `NewGovernance` event."},"setAuthorized(address,bool)":{"details":"Throws if the caller is not current governance.","params":{"_target":"The address to add/remove authorization for.","_value":"Boolean to grant or revoke access."}},"setBaseFeeProvider(address)":{"details":"Throws if the caller is not current governance.","params":{"_baseFeeProvider":"The network's baseFeeProvider address"}},"setManualBaseFeeBool(bool)":{"details":"Throws if the caller is not authorized or gov.","params":{"_manualBaseFeeBool":"Boolean to allow/block harvests if we don't  have a provider set up."}},"setMaxAcceptableBaseFee(uint256)":{"details":"Throws if the caller is not authorized or gov.","params":{"_maxAcceptableBaseFee":"The acceptable maximum price to pay in wei."}},"setPendingGovernance(address)":{"details":"Throws if the caller is not current governance.","params":{"_governance":"The next governance address"}}},"version":1},"userdoc":{"kind":"user","methods":{"acceptGovernance()":{"notice":"Completes the 2nd phase of the governance transfer."},"authorizedAddresses(address)":{"notice":"New address must be set by current gov and then accept to transfer power."},"constructor":{"notice":"Use this if our network hasn't implemented the base fee method yet"},"governance()":{"notice":"Max acceptable base fee for the operation"},"isCurrentBaseFeeAcceptable()":{"notice":"Returns whether we should allow harvests based on current base fee."},"manualBaseFeeBool()":{"notice":"Addresses that can set the max acceptable base fee"},"maxAcceptableBaseFee()":{"notice":"Provider to read current block's base fee. This will vary based on network."},"pendingGovernance()":{"notice":"Governance can grant and revoke access to the setter"},"setAuthorized(address,bool)":{"notice":"Controls whether a non-gov address can adjust certain params."},"setBaseFeeProvider(address)":{"notice":"Sets the address used to pull the current network base fee."},"setManualBaseFeeBool(bool)":{"notice":"If we don't have a provider, then manually determine if true or not.  Useful in testing as well."},"setMaxAcceptableBaseFee(uint256)":{"notice":"Set the maximum base fee we want for our keepers to accept.  Gwei is 1e9."},"setPendingGovernance(address)":{"notice":"Starts the 1st phase of the governance transfer."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"useLiteralContent":true,"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/src/CommonFeeOracle.sol":"BaseFeeOracle"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"contracts/src/CommonFeeOracle.sol":{"keccak256":"0x768fe9f7dc8f525022128a48c663c6ad6742be2a77c3f745525d42b49cc19592","urls":[],"content":"// SPDX-License-Identifier: MIT OR AGPL-3.0\npragma solidity ^0.8.20;\n\ninterface IBaseFee {\n    function basefee_global() external view returns (uint256);\n}\n\n/**\n * @dev Interprets the base fee from our base fee provider\n *  contract to determine if a harvest is permissable.\n *\n * Version 0.1.0\n */\n\ncontract BaseFeeOracle {\n    address public baseFeeProvider; /// @notice Provider to read current block's base fee. This will vary based on network.\n    uint256 public maxAcceptableBaseFee; /// @notice Max acceptable base fee for the operation\n\n    address public governance; /// @notice Governance can grant and revoke access to the setter\n    address public pendingGovernance; /// @notice New address must be set by current gov and then accept to transfer power.\n    mapping(address => bool) public authorizedAddresses; /// @notice Addresses that can set the max acceptable base fee\n\n    bool public manualBaseFeeBool; /// @notice Use this if our network hasn't implemented the base fee method yet\n\n    constructor() {\n        governance = msg.sender; // our deployer should be gov, they can set up the rest\n        manualBaseFeeBool = true; // start as permissive\n    }\n\n    // events for subgraph\n    event NewGovernance(address indexed governance);\n\n    event NewProvider(address indexed provider);\n\n    event UpdatedMaxBaseFee(uint256 baseFee);\n\n    event UpdatedManualBaseFee(bool manualFee);\n\n    event UpdatedAuthorization(address indexed target, bool authorized);\n\n    /// @notice Returns whether we should allow harvests based on current base fee.\n    function isCurrentBaseFeeAcceptable() public view returns (bool) {\n        if (baseFeeProvider == address(0)) {\n            return manualBaseFeeBool;\n        } else {\n            uint256 baseFee = IBaseFee(baseFeeProvider).basefee_global();\n            return baseFee <= maxAcceptableBaseFee;\n        }\n    }\n\n    /**\n     * @notice Set the maximum base fee we want for our keepers to accept.\n     *  Gwei is 1e9.\n     * @dev Throws if the caller is not authorized or gov.\n     * @param _maxAcceptableBaseFee The acceptable maximum price to pay in wei.\n     */\n    function setMaxAcceptableBaseFee(uint256 _maxAcceptableBaseFee) external {\n        _onlyAuthorized();\n        maxAcceptableBaseFee = _maxAcceptableBaseFee;\n        emit UpdatedMaxBaseFee(_maxAcceptableBaseFee);\n    }\n\n    /**\n     * @notice If we don't have a provider, then manually determine if true or not.\n     *  Useful in testing as well.\n     * @dev Throws if the caller is not authorized or gov.\n     * @param _manualBaseFeeBool Boolean to allow/block harvests if we don't\n     *  have a provider set up.\n     */\n    function setManualBaseFeeBool(bool _manualBaseFeeBool) external {\n        _onlyAuthorized();\n        manualBaseFeeBool = _manualBaseFeeBool;\n        emit UpdatedManualBaseFee(_manualBaseFeeBool);\n    }\n\n    /**\n     * @notice Controls whether a non-gov address can adjust certain params.\n     * @dev Throws if the caller is not current governance.\n     * @param _target The address to add/remove authorization for.\n     * @param _value Boolean to grant or revoke access.\n     */\n    function setAuthorized(address _target, bool _value) external {\n        _onlyGovernance();\n        authorizedAddresses[_target] = _value;\n        emit UpdatedAuthorization(_target, _value);\n    }\n\n    /**\n     * @notice Starts the 1st phase of the governance transfer.\n     * @dev Throws if the caller is not current governance.\n     * @param _governance The next governance address\n     */\n    function setPendingGovernance(address _governance) external {\n        _onlyGovernance();\n        pendingGovernance = _governance;\n    }\n\n    /**\n     * @notice Completes the 2nd phase of the governance transfer.\n     * @dev Throws if the caller is not the pending caller.\n     *  Emits a `NewGovernance` event.\n     */\n    function acceptGovernance() external {\n        require(msg.sender == pendingGovernance, \"!authorized\");\n        governance = msg.sender;\n        emit NewGovernance(msg.sender);\n    }\n\n    /**\n     * @notice Sets the address used to pull the current network base fee.\n     * @dev Throws if the caller is not current governance.\n     * @param _baseFeeProvider The network's baseFeeProvider address\n     */\n    function setBaseFeeProvider(address _baseFeeProvider) external {\n        _onlyGovernance();\n        baseFeeProvider = _baseFeeProvider;\n        emit NewProvider(_baseFeeProvider);\n    }\n\n    function _onlyAuthorized() internal view {\n        require(authorizedAddresses[msg.sender] == true || msg.sender == governance, \"!authorized\");\n    }\n\n    function _onlyGovernance() internal view {\n        require(msg.sender == governance, \"!governance\");\n    }\n}\n","license":"MIT OR AGPL-3.0"}},"version":1},"id":1}